(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{295:function(t,e,o){var a=o(655);"string"==typeof a&&(a=[[t.i,a,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};o(14)(a,n);a.locals&&(t.exports=a.locals)},654:function(t,e,o){"use strict";var a=o(295);o.n(a).a},655:function(t,e,o){(t.exports=o(13)(!1)).push([t.i,".red[data-v-7ae37211]{color:red}.green[data-v-7ae37211]{color:green}.blue[data-v-7ae37211]{color:blue}.black[data-v-7ae37211]{color:#000}.white[data-v-7ae37211]{color:#fff}.yellow[data-v-7ae37211]{color:#ff0}.gold[data-v-7ae37211]{color:gold}.purple[data-v-7ae37211]{color:purple}.cyan[data-v-7ae37211]{color:cyan}.orange[data-v-7ae37211]{color:orange}.orangered[data-v-7ae37211]{color:#ff4500}.pink[data-v-7ae37211]{color:pink}.violet[data-v-7ae37211]{color:violet}.yellowgreen[data-v-7ae37211]{color:#9acd32}.tomato[data-v-7ae37211]{color:tomato}.tan[data-v-7ae37211]{color:tan}.snow[data-v-7ae37211]{color:snow}.gray[data-v-7ae37211]{color:gray}.silver[data-v-7ae37211]{color:silver}.skyblue[data-v-7ae37211]{color:skyblue}.navy[data-v-7ae37211]{color:navy}.brown[data-v-7ae37211]{color:brown}.beige[data-v-7ae37211]{color:beige}.magenta[data-v-7ae37211]{color:#f0f}.c0[data-v-7ae37211]{color:#000}.c1[data-v-7ae37211]{color:#111}.c2[data-v-7ae37211]{color:#222}.c3[data-v-7ae37211]{color:#333}.c4[data-v-7ae37211]{color:#444}.c5[data-v-7ae37211]{color:#555}.c6[data-v-7ae37211]{color:#666}.c7[data-v-7ae37211]{color:#777}.c8[data-v-7ae37211]{color:#888}.c9[data-v-7ae37211]{color:#999}.c10[data-v-7ae37211]{color:#aaa}.c11[data-v-7ae37211]{color:#bbb}.c12[data-v-7ae37211]{color:#ccc}.c13[data-v-7ae37211]{color:#ddd}.c14[data-v-7ae37211]{color:#eee}.c15[data-v-7ae37211]{color:#fff}.porange[data-v-7ae37211]{color:#fc9}.pgold[data-v-7ae37211]{color:#ffc}.pazure[data-v-7ae37211]{color:#cff}.pdgreen[data-v-7ae37211]{color:#9cc}.ppurple[data-v-7ae37211]{color:#ccf}.pblue[data-v-7ae37211]{color:#09c}.plblue[data-v-7ae37211]{color:#9cf}.pdblue[data-v-7ae37211]{color:#369}.pgreen[data-v-7ae37211]{color:#9c3}.solution__main[data-v-7ae37211]{position:relative;background:#fff;color:#111;margin-right:250px;min-height:6rem;padding:0.2rem;text-align:left}.solution__main h1[data-v-7ae37211]{font-size:24px;margin-bottom:0.1rem}.solution__main .solution__section[data-v-7ae37211]{color:#444;border-top:1px solid #eee;padding:0.1rem 0 0.2rem 0;font-size:20px}.solution__siderbar[data-v-7ae37211]{text-align:left;min-height:600px;width:240px;background:#fff;box-sizing:border-box;padding:0.1rem;position:relative}.solution__siderbar ul li[data-v-7ae37211]{margin-top:20px}.solution__siderbar ul .userinfo__wrapper img[data-v-7ae37211]{width:80px;height:80px;border-radius:40px}\n",""])},700:function(t,e,o){"use strict";o.r(e);o(10),o(7),o(31),o(11),o(304);var a=o(15),n=o(169),r=o(30),s=(o(87),o(50));function i(t,e,o,a,n,r,s){try{var i=t[r](s),l=i.value}catch(t){return void o(t)}i.done?e(l):Promise.resolve(l).then(a,n)}function l(t){return function(){var e=this,o=arguments;return new Promise(function(a,n){var r=t.apply(e,o);function s(t){i(r,a,n,s,l,"next",t)}function l(t){i(r,a,n,s,l,"throw",t)}s(void 0)})}}var c={components:{CodeMirror:n.a},data:function(){return{solution:{problem:null,user:null},langList:[],seeable:!1,resultList:[],timer:0}},mounted:function(){this.resultList=s.b,this.langList=s.a,this.init()},methods:{init:function(){var t=l(regeneratorRuntime.mark(function t(){var e,o,n,r,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=(e=this).$route.params.id,t.prev=2,t.next=5,Object(a.n)(o);case 5:n=t.sent,r=n.data,e.seeable=r.seeable,e.solution=r.solution,e.solution.result<4&&(s=this.$loading({lock:!0,text:"评测中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),e.timer=setInterval(l(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(a.n)(o);case 2:n=t.sent,r=n.data,e.seeable=r.seeable,e.solution=r.solution,e.solution.result>=4&&(clearInterval(e.timer),s.close());case 7:case"end":return t.stop()}},t)})),2e3)),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(2),e.$router.replace({name:"404Page"});case 17:case"end":return t.stop()}},t,this,[[2,13]])}));return function(){return t.apply(this,arguments)}}(),handleSearchTag:function(t){this.$store.dispatch("setTag",t),this.$router.push({name:"problemSet"})},handleDownloadDataFile:function(){var t=l(regeneratorRuntime.mark(function t(e){var o,a,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(r.a)(this.solution.problem.id,this.solution.id,e);case 3:o=t.sent,a=window.URL.createObjectURL(new Blob([o.data])),(n=document.createElement("a")).style.display="none",n.href=a,n.setAttribute("download",e),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(a),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0);case 18:case"end":return t.stop()}},t,this,[[0,15]])}));return function(e){return t.apply(this,arguments)}}(),handleToggleSolutionStatus:function(){var t=l(regeneratorRuntime.mark(function t(){var e,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this,t.prev=1,t.next=4,Object(r.k)(e.solution.id);case 4:o=t.sent,e.solution.public=!e.solution.public,this.$message({message:o.data.message,type:"success"}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),this.$message({message:t.t0.response.data.message,type:"err"});case 13:case"end":return t.stop()}},t,this,[[1,9]])}));return function(){return t.apply(this,arguments)}}()},computed:{wrongFileName:function(){return this.solution.runtime_info.substring(0,this.solution.runtime_info.lastIndexOf("."))},renderWrongInfo:function(){return this.solution.runtime_info?this.solution.result>=5&&this.solution.result<=8?"测试样例"+this.wrongFileName+"处发生了错误":solution.runtime_info:"没有错误信息"}},beforeDestroy:function(){this.timer&&clearInterval(this.timer)}},u=(o(654),o(2)),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"content"},[o("title",[t._v(t._s("S"+t.solution.id+" 评测详情 - AHPUOJ"))]),o("div",{staticClass:"content__main"},[o("div",{staticClass:"solution__siderbar fr"},[o("ul",[o("li",{staticClass:"userinfo__wrapper align__center"},[o("router-link",{attrs:{to:{name:"userinfo",params:{id:t.solution.user.id}}}},[o("img",{attrs:{src:t.imgUrl(t.solution.user.avatar)}})])],1),o("li",{staticClass:"align__center"},[o("router-link",{attrs:{to:{name:"userinfo",params:{id:t.solution.user.id}}}},[t._v(t._s(t.solution.user.nick))])],1),o("li",[o("strong",[t._v("代码")]),o("span",{staticClass:"fr"},[t._v(t._s(t.langList[t.solution.language]+" "+t.solution.code_length+"kb"))])]),o("li",[o("strong",[t._v("提交时间")]),o("span",{staticClass:"fr"},[t._v(t._s(t.solution.in_date))])])])]),o("div",{staticClass:"solution__main clearfix"},[o("h1",{staticClass:"content__panel__title",staticStyle:{"padding-left":"0"}},[t._v("评测详情")]),o("div",{staticClass:"solution__section"},[o("h3",[t._v("问题"),o("p",[0==t.solution.contest_id?o("router-link",{attrs:{to:{name:"problem",params:{id:t.solution.problem.id}}}},[t._v(t._s("P"+t.solution.problem.id+"  "+t.solution.problem.title))]):o("router-link",{attrs:{to:{name:"contestProblem",params:{id:t.solution.contest_id,num:t.solution.num}}}},[t._v(t._s("C"+t.solution.contest_id+"  "+t.engNum(t.solution.num)+" "+t.solution.problem.title))])],1)])]),o("div",{staticClass:"solution__section"},[o("h3",[t._v("结果")]),o("p",[t._v(t._s(t.resultList[t.solution.result]?t.resultList[t.solution.result].name:""))])]),o("div",{staticClass:"solution__section"},[o("h3",[t._v("运行信息")]),o("p",[t._v(t._s("用时"+t.solution.time+"ms \\ 内存"+t.solution.memory+"kb"))])]),o("div",{staticClass:"solution__section"},[o("h3",[t._v("编译信息")]),o("p",[t._v(t._s(t.solution.compile_info?t.solution.compile_info:"没有编译信息"))])]),o("div",{staticClass:"solution__section"},[o("h3",[t._v("错误信息")]),o("p",[t._v(t._s(t.renderWrongInfo))])]),t.solution.runtime_info&&t.$store.getters.userId==t.solution.user.id&&0==t.solution.contest_id&&t.solution.result>=5&&t.solution.result<=8?[o("div",{staticClass:"solution__section"},[o("h3",[t._v("测试点数据下载")]),o("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){return t.handleDownloadDataFile(t.wrongFileName+".in")}}},[t._v(t._s(t.wrongFileName+".in"))]),o("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){return t.handleDownloadDataFile(t.wrongFileName+".out")}}},[t._v(t._s(t.wrongFileName+".out"))])],1)]:t._e(),0==t.solution.contest_id&&4==t.solution.result&&t.$store.getters.userId==t.solution.user.id?o("div",{staticClass:"solution__section"},[o("h3",[t._v("公开代码")]),o("p",[t._v("公开你的源码，用你的智慧帮助其他的人解决问题！")]),o("p",{staticClass:"mt10"},[t._v("当前状态 "),o("span",{staticClass:"text-button",class:[0==t.solution.public?"text-button--danger":"text-button--success"]},[t._v(t._s(0==t.solution.public?"不公开":"公开"))])]),o("el-button",{staticClass:"mt10",attrs:{type:1==t.solution.public?"danger":"primary"},on:{click:t.handleToggleSolutionStatus}},[t._v(t._s(1==t.solution.public?"隐藏代码":"公开代码"))])],1):t._e(),o("div",{staticClass:"solution__section"},[o("h3",[t._v("代码")]),t.seeable?o("code-mirror",{attrs:{code:t.solution.source,language:t.solution.language,readonly:!0},on:{"update:code":function(e){return t.$set(t.solution,"source",e)}}}):o("p",[t._v("你没有查看这份代码的权限")])],1)],2)])])},[],!1,null,"7ae37211",null);e.default=d.exports}}]);
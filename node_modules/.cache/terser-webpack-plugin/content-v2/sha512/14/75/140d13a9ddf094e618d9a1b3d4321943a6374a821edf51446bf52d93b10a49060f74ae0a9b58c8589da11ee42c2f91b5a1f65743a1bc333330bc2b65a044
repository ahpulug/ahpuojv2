{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{219:function(t,e,a){var r=a(512);\"string\"==typeof r&&(r=[[t.i,r,\"\"]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a(11)(r,n);r.locals&&(t.exports=r.locals)},511:function(t,e,a){\"use strict\";var r=a(219);a.n(r).a},512:function(t,e,a){(t.exports=a(10)(!1)).push([t.i,\".red[data-v-4bb211d8]{color:red}.green[data-v-4bb211d8]{color:green}.blue[data-v-4bb211d8]{color:blue}.black[data-v-4bb211d8]{color:#000}.white[data-v-4bb211d8]{color:#fff}.yellow[data-v-4bb211d8]{color:#ff0}.gold[data-v-4bb211d8]{color:gold}.purple[data-v-4bb211d8]{color:purple}.cyan[data-v-4bb211d8]{color:cyan}.orange[data-v-4bb211d8]{color:orange}.orangered[data-v-4bb211d8]{color:#ff4500}.pink[data-v-4bb211d8]{color:pink}.violet[data-v-4bb211d8]{color:violet}.yellowgreen[data-v-4bb211d8]{color:#9acd32}.tomato[data-v-4bb211d8]{color:tomato}.tan[data-v-4bb211d8]{color:tan}.snow[data-v-4bb211d8]{color:snow}.gray[data-v-4bb211d8]{color:gray}.silver[data-v-4bb211d8]{color:silver}.skyblue[data-v-4bb211d8]{color:skyblue}.navy[data-v-4bb211d8]{color:navy}.brown[data-v-4bb211d8]{color:brown}.beige[data-v-4bb211d8]{color:beige}.magenta[data-v-4bb211d8]{color:#f0f}.c0[data-v-4bb211d8]{color:#000}.c1[data-v-4bb211d8]{color:#111}.c2[data-v-4bb211d8]{color:#222}.c3[data-v-4bb211d8]{color:#333}.c4[data-v-4bb211d8]{color:#444}.c5[data-v-4bb211d8]{color:#555}.c6[data-v-4bb211d8]{color:#666}.c7[data-v-4bb211d8]{color:#777}.c8[data-v-4bb211d8]{color:#888}.c9[data-v-4bb211d8]{color:#999}.c10[data-v-4bb211d8]{color:#aaa}.c11[data-v-4bb211d8]{color:#bbb}.c12[data-v-4bb211d8]{color:#ccc}.c13[data-v-4bb211d8]{color:#ddd}.c14[data-v-4bb211d8]{color:#eee}.c15[data-v-4bb211d8]{color:#fff}.porange[data-v-4bb211d8]{color:#fc9}.pgold[data-v-4bb211d8]{color:#ffc}.pazure[data-v-4bb211d8]{color:#cff}.pdgreen[data-v-4bb211d8]{color:#9cc}.ppurple[data-v-4bb211d8]{color:#ccf}.pblue[data-v-4bb211d8]{color:#09c}.plblue[data-v-4bb211d8]{color:#9cf}.pdblue[data-v-4bb211d8]{color:#369}.pgreen[data-v-4bb211d8]{color:#9c3}.issues__wrapper .link[data-v-4bb211d8]{font-size:0.24rem;line-height:0.5rem;padding-right:0.2rem}.issues__wrapper h1.content__panel__title[data-v-4bb211d8]{background:#fff}.issues__wrapper .issue__box[data-v-4bb211d8]{background:#fff;position:relative;margin-top:0.2rem;padding:0.2rem;border:1px solid #ddd}.issues__wrapper .issue__box .issue__userinfo__wrapper[data-v-4bb211d8]{text-align:center;word-wrap:break-word;word-break:break-all;float:left;width:100px}.issues__wrapper .issue__box .issue__userinfo__wrapper img[data-v-4bb211d8]{width:60px;height:60px;border-radius:30px;border:1px solid #ccc;box-shadow:1px 1px 1px 1px #ccc}.issues__wrapper .issue__box[data-v-4bb211d8]:last-child{border-bottom:1px solid #ddd}.issues__wrapper .issue__box .issue__content[data-v-4bb211d8]{box-sizing:border-box;padding:0.2rem 0 0 0.2rem;margin-left:100px;min-height:80px;text-align:left;font-size:0.16rem}.issues__wrapper .issue__box .issue__content a[data-v-4bb211d8]{font-size:24px}.issues__wrapper .issue__box .issue__addon[data-v-4bb211d8]{position:absolute;bottom:10px;right:10px}.issues__wrapper .issue__box .issue__addon a[data-v-4bb211d8]{font-size:0.16rem}.issues__wrapper .post__box__wrapper[data-v-4bb211d8]{min-height:100px;text-align:left;background:#fff;padding:0.2rem}\\n\",\"\"])},62:function(t,e,a){\"use strict\";a(69);var r=a(146),n=a.n(r),o=a(147),s=(a(244),a(245),a(246),a(247),a(248),a(249),a(250),a(251),a(252),a(41)),i=a(54),c=a.n(i),u={name:\"tinymce-editor\",components:{Editor:o.a},props:{value:{type:String,default:\"\"},disabled:{type:Boolean,default:!1},plugins:{type:[String,Array],default:\"lists image table wordcount code\"},toolbar:{type:[String,Array],default:\"undo redo |  formatselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | code image  table | removeformat\"},height:{type:Number,default:600}},data:function(){return{init:{relative_urls:!0,document_base_url:s.c,language_url:\"/static/tinymce/langs/zh_CN.js\",skin_url:\"/static/tinymce/skins/ui/oxide\",content_css:\"/static/tinymce/skins/ui/oxide/content.min.css\",language:\"zh_CN\",height:this.height,resize:!1,plugins:this.plugins,toolbar:this.toolbar,branding:!1,menubar:!1,automatic_uploads:!1,mobile:{theme:\"silver\"},images_upload_handler:function(t,e,a){var r;(r=new FormData).append(\"file\",t.blob(),t.filename());c.a.post(\"/api/admin/image\",r,{headers:{\"Content-Type\":\"multipart/form-data\",Authorization:\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NjAzNjg1NDQsInVzZXIiOiJhZG1pbiJ9.7K5BCDoodn10AH4Gwe_yDUDBSLWXnG-ogVFoGycQ7WU\"}}).then(function(t){e(t.data.url)}).catch(function(t){})}},myValue:this.value}},mounted:function(){},methods:{onClick:function(t){this.$emit(\"onClick\",t,n.a)},clear:function(){this.myValue=\"\"}},watch:{value:function(t){this.myValue=t},myValue:function(t){this.$emit(\"input\",t)}}},d=a(2),l=Object(d.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"tinymce-editor\",style:{height:t.height+\"px\"}},[a(\"editor\",{attrs:{init:t.init,disabled:t.disabled},on:{onClick:t.onClick},model:{value:t.myValue,callback:function(e){t.myValue=e},expression:\"myValue\"}})],1)},[],!1,null,\"3ee0a8eb\",null);e.a=l.exports},687:function(t,e,a){\"use strict\";a.r(e);a(7),a(6),a(30),a(8);var r=a(9),n=a(62),o=a(71),s=a(22);function i(t,e,a,r,n,o,s){try{var i=t[o](s),c=i.value}catch(t){return void a(t)}i.done?e(c):Promise.resolve(c).then(r,n)}function c(t){return function(){var e=this,a=arguments;return new Promise(function(r,n){var o=t.apply(e,a);function s(t){i(o,r,n,s,c,\"next\",t)}function c(t){i(o,r,n,s,c,\"throw\",t)}s(void 0)})}}var u={components:{TinymceEditor:n.a},name:\"\",data:function(){return{currentPage:1,perpage:20,problemId:0,data:[],total:0,issueForm:{title:\"\",problem_id:0},active:!1,replyForm:{content:\"\",reply_id:0,reply_user_id:0}}},mounted:function(){this.fetchIssueList()},methods:{fetchIssueList:function(){var t=c(regeneratorRuntime.mark(function t(){var e,a,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return window.pageYOffset=0,document.documentElement.scrollTop=0,document.body.scrollTop=0,\"issueList\"==(e=this).$route.name?e.problemId=0:e.problemId=e.$route.params.id,t.prev=5,t.next=8,Object(r.h)(e.problemId,e.currentPage,e.perpage);case 8:a=t.sent,console.log(a),n=a.data,e.data=n.data,e.total=n.total,t.next=18;break;case 15:t.prev=15,t.t0=t.catch(5),console.log(t.t0);case 18:case\"end\":return t.stop()}},t,this,[[5,15]])}));return function(){return t.apply(this,arguments)}}(),goLogin:function(){o.a.$emit(\"goLogin\")},postIssue:function(){var t=c(regeneratorRuntime.mark(function t(){var e,a,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(\"\"!=(e=this).issueForm.title){t.next=4;break}return this.$message({message:\"标题不能为空\",type:\"error\"}),t.abrupt(\"return\");case 4:if(!(e.issueForm.title.length>20)){t.next=7;break}return this.$message({message:\"标题长度限制在20个字符以内\",type:\"error\"}),t.abrupt(\"return\");case 7:if(\"\"!=e.replyForm.content){t.next=10;break}return this.$message({message:\"内容不能为空\",type:\"error\"}),t.abrupt(\"return\");case 10:return t.prev=10,\"problemIssueList\"==e.$route.name?e.issueForm.problem_id=parseInt(e.$route.params.id):e.issueForm.problem_id=0,t.next=14,Object(s.f)(e.issueForm);case 14:return a=t.sent,r=a.data.issue.id,t.next=18,Object(s.g)(r,e.replyForm);case 18:a=t.sent,e.$message({message:\"发布讨论主题成功\",type:\"success\"}),e.issueForm.title=\"\",e.replyForm.content=\"\",e.fetchIssueList(),t.next=28;break;case 25:t.prev=25,t.t0=t.catch(10),e.$message({message:t.t0.response.data.message,type:\"error\"});case 28:case\"end\":return t.stop()}},t,this,[[10,25]])}));return function(){return t.apply(this,arguments)}}()}},d=(a(511),a(2)),l=Object(d.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"content\"},[a(\"div\",{staticClass:\"content__main\"},[a(\"div\",{staticClass:\"issues__wrapper\"},[a(\"div\",{staticClass:\"link fr\"},[\"problemIssueList\"==t.$route.name?a(\"router-link\",{attrs:{to:{name:\"problem\",params:{id:t.$route.params.id}}}},[t._v(t._s(\"转到问题\"))]):t._e()],1),a(\"h1\",{staticClass:\"content__panel__title\"},[t._v(t._s(\"issueList\"==t.$route.name?\"讨论版 总版\":\"问题P\"+t.$route.params.id+\"的讨论版\"))]),t._l(t.data,function(e){return[a(\"div\",{staticClass:\"issue__box\"},[a(\"div\",{staticClass:\"issue__userinfo__wrapper\"},[a(\"ul\",[a(\"li\",{staticClass:\"issue__user__avatar\"},[a(\"router-link\",{attrs:{to:{name:\"userinfo\",params:{id:e.user.id}}}},[a(\"img\",{attrs:{src:t.imgUrl(e.user.avatar)}})])],1),a(\"li\",{staticClass:\"issue__user__name ell\"},[a(\"router-link\",{attrs:{to:{name:\"userinfo\",params:{id:e.user.id}}}},[t._v(t._s(e.user.nick))])],1)])]),a(\"div\",{staticClass:\"issue__content\"},[a(\"router-link\",{attrs:{to:{name:\"issue\",params:{id:e.id}},target:\"_blank\"}},[t._v(t._s(e.title))]),a(\"div\",{staticClass:\"issue__addon tar\"},[e.problem.id>0?a(\"router-link\",{attrs:{to:{name:\"problem\",params:{id:e.problem.id}}}},[t._v(t._s(\"In P\"+e.problem.id+\" \"+e.problem.title))]):a(\"p\",[t._v(\"总版\")]),a(\"p\",[t._v(t._s(e.reply_count)+\"个回复 最后回复时间 \"+t._s(e.updated_at))])],1)],1)])]}),a(\"el-pagination\",{staticClass:\"tal\",attrs:{\"current-page\":t.currentPage,background:\"\",\"page-size\":t.perpage,layout:\"prev, pager, next,jumper\",total:t.total},on:{\"current-change\":t.fetchIssueList,\"update:currentPage\":function(e){t.currentPage=e},\"update:current-page\":function(e){t.currentPage=e}}}),a(\"h1\",{staticClass:\"content__panel__title\"},[t._v(\"发表新讨论\")]),a(\"div\",{staticClass:\"post__box__wrapper\"},[t.$store.getters.username?a(\"div\",{staticClass:\"post__box\"},[a(\"el-input\",{attrs:{placeholder:\"请输入讨论标题\",autofocus:!0},model:{value:t.issueForm.title,callback:function(e){t.$set(t.issueForm,\"title\",e)},expression:\"issueForm.title\"}}),a(\"tinymce-editor\",{staticClass:\"mt10\",attrs:{height:300},model:{value:t.replyForm.content,callback:function(e){t.$set(t.replyForm,\"content\",e)},expression:\"replyForm.content\"}}),a(\"el-button\",{staticClass:\"mt10\",attrs:{type:\"primary\"},on:{click:t.postIssue}},[t._v(\"发表\")])],1):a(\"a\",{on:{click:t.goLogin}},[t._v(\"请登陆后发表讨论\")])])],2)])])},[],!1,null,\"4bb211d8\",null);e.default=l.exports},71:function(t,e,a){\"use strict\";a.d(e,\"a\",function(){return r});var r=new(a(5).default)},9:function(t,e,a){\"use strict\";a.d(e,\"i\",function(){return n}),a.d(e,\"m\",function(){return o}),a.d(e,\"j\",function(){return s}),a.d(e,\"h\",function(){return i}),a.d(e,\"g\",function(){return c}),a.d(e,\"k\",function(){return u}),a.d(e,\"l\",function(){return d}),a.d(e,\"n\",function(){return l}),a.d(e,\"o\",function(){return b}),a.d(e,\"c\",function(){return p}),a.d(e,\"b\",function(){return m}),a.d(e,\"e\",function(){return f}),a.d(e,\"f\",function(){return _}),a.d(e,\"d\",function(){return g}),a.d(e,\"a\",function(){return v});var r=a(0);function n(){return Object(r.a)(\"GET\",\"languages\")}function o(t,e){return Object(r.a)(\"GET\",\"ranklist\",{page:t,perpage:e})}function s(t,e){return Object(r.a)(\"GET\",\"news\",{page:t,perpage:e})}function i(t,e,a){return Object(r.a)(\"GET\",\"problem/\".concat(t,\"/issues\"),{page:e,perpage:a})}function c(t,e,a){return Object(r.a)(\"GET\",\"/issue/\".concat(t),{page:e,perpage:a})}function u(t){return Object(r.a)(\"GET\",\"problem/\".concat(t))}function d(t,e,a,n,o){return Object(r.a)(\"GET\",\"problems\",{page:t,perpage:e,param:a,level:n,tag_id:o})}function l(t){return Object(r.a)(\"GET\",\"solution/\".concat(t))}function b(t,e,a,n,o,s,i){return Object(r.a)(\"GET\",\"solutions\",{page:t,perpage:e,param:a,username:n,language:o,result:s,contest_id:i})}function p(t,e,a){return Object(r.a)(\"GET\",\"contests\",{page:t,perpage:e,param:a})}function m(t){return Object(r.a)(\"GET\",\"contest/\".concat(t))}function f(t){return Object(r.a)(\"GET\",\"contest/\".concat(t,\"/ranklist\"))}function _(t){return Object(r.a)(\"GET\",\"contest/\".concat(t,\"/teamranklist\"))}function g(t,e){return Object(r.a)(\"GET\",\"contest/\".concat(t,\"/problem/\").concat(e))}function v(){return Object(r.a)(\"GET\",\"alltags\")}}}]);","extractedComments":[]}
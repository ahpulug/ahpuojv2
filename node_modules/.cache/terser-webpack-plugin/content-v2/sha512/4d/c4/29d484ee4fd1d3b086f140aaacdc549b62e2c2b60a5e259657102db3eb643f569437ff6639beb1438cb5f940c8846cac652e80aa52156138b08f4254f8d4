{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{25:function(t,e,n){\"use strict\";n.d(e,\"b\",function(){return a}),n.d(e,\"e\",function(){return c}),n.d(e,\"g\",function(){return o}),n.d(e,\"j\",function(){return u}),n.d(e,\"c\",function(){return i}),n.d(e,\"n\",function(){return s}),n.d(e,\"i\",function(){return l}),n.d(e,\"h\",function(){return m}),n.d(e,\"f\",function(){return d}),n.d(e,\"a\",function(){return p}),n.d(e,\"d\",function(){return f}),n.d(e,\"m\",function(){return b}),n.d(e,\"l\",function(){return g}),n.d(e,\"k\",function(){return h});var r=n(0);function a(t){return Object(r.a)(\"POST\",\"admin/problem\",t)}function c(t,e){return console.log(t,e),Object(r.a)(\"PUT\",\"admin/problem/\".concat(t),e)}function o(t){return Object(r.a)(\"GET\",\"admin/problem/\".concat(t))}function u(t,e,n){return Object(r.a)(\"GET\",\"admin/problems\",{page:t,perpage:e,param:n})}function i(t){return Object(r.a)(\"DELETE\",\"admin/problem/\".concat(t))}function s(t){return Object(r.a)(\"PUT\",\"admin/problem/\".concat(t,\"/status\"))}function l(t){return Object(r.a)(\"GET\",\"admin/problem/\".concat(t,\"/datas\"))}function m(t,e){return Object(r.a)(\"GET\",\"admin/problem/\".concat(t,\"/data/\").concat(e))}function d(t,e,n){return Object(r.a)(\"PUT\",\"admin/problem/\".concat(t,\"/data/\").concat(e),n)}function p(t,e){return Object(r.a)(\"POST\",\"admin/problem/\".concat(t,\"/data\"),e)}function f(t,e){return Object(r.a)(\"DELETE\",\"admin/problem/\".concat(t,\"/data/\").concat(e))}function b(t){return Object(r.a)(\"PUT\",\"admin/solution/\".concat(t,\"/judgestatus\"))}function g(t){return Object(r.a)(\"PUT\",\"admin/problem/\".concat(t,\"/judgestatus\"))}function h(t,e){return Object(r.a)(\"PUT\",\"admin/problem/\".concat(t,\"/movement/\").concat(e))}},670:function(t,e,n){\"use strict\";n.r(e);n(7),n(6),n(8);var r=n(25);function a(t,e,n,r,a,c,o){try{var u=t[c](o),i=u.value}catch(t){return void n(t)}u.done?e(i):Promise.resolve(i).then(r,a)}function c(t){return function(){var e=this,n=arguments;return new Promise(function(r,c){var o=t.apply(e,n);function u(t){a(o,r,c,u,i,\"next\",t)}function i(t){a(o,r,c,u,i,\"throw\",t)}u(void 0)})}}var o={data:function(){return{loading:!0,currentPage:1,currentRowId:0,perpage:10,total:0,queryParam:\"\",tableData:[]}},mounted:function(){this.fetchProblemList()},methods:{fetchProblemList:function(){var t=c(regeneratorRuntime.mark(function t(){var e,n,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(e=this).loading=!0,t.prev=2,t.next=5,Object(r.j)(e.currentPage,e.perpage,e.queryParam);case 5:n=t.sent,a=n.data,setTimeout(function(){e.tableData=a.data,e.total=a.total,e.loading=!1},200),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0);case 13:case\"end\":return t.stop()}},t,this,[[2,10]])}));return function(){return t.apply(this,arguments)}}(),handleSizeChange:function(t){this.perpage=t,this.fetchProblemList()},handleToggleProblemStatus:function(){var t=c(regeneratorRuntime.mark(function t(e){var n,a,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this,a=\"确认要\".concat(0==e.defunct?\"保留\":\"启用\",\"问题\").concat(e.title,\"吗?\"),t.prev=2,t.next=5,n.$confirm(a,\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"});case 5:return t.prev=5,t.next=8,Object(r.n)(e.id);case 8:c=t.sent,n.$message({type:\"success\",message:c.data.message}),e.defunct=!e.defunct,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),n.$message({type:\"error\",message:t.t0.response.data.message});case 16:t.next=21;break;case 18:t.prev=18,t.t1=t.catch(2),n.$message({type:\"info\",message:\"已取消操作\"});case 21:case\"end\":return t.stop()}},t,this,[[2,18],[5,13]])}));return function(e){return t.apply(this,arguments)}}(),handleDeleteProblem:function(){var t=c(regeneratorRuntime.mark(function t(e){var n,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this,t.prev=1,t.next=4,n.$confirm(\"确认要删除问题\".concat(e.title,\"吗?\"),\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"});case 4:return t.prev=4,t.next=7,Object(r.c)(e.id);case 7:a=t.sent,n.$message({type:\"success\",message:a.data.message}),1==n.tableData.length&&n.currentPage>1&&n.currentPage--,n.fetchProblemList(),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(4),n.$message({type:\"error\",message:t.t0.response.data.message});case 16:t.next=21;break;case 18:t.prev=18,t.t1=t.catch(1),n.$message({type:\"info\",message:\"已取消删除\"});case 21:case\"end\":return t.stop()}},t,this,[[1,18],[4,13]])}));return function(e){return t.apply(this,arguments)}}()}},u=n(2),i=Object(u.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"admin-content\"},[n(\"div\",{staticClass:\"content__breadcrumb\"},[n(\"el-breadcrumb\",{attrs:{separator:\"/\"}},[n(\"el-breadcrumb-item\",{attrs:{to:{name:\"adminIndex\"}}},[t._v(\"首页\")]),n(\"el-breadcrumb-item\",[t._v(t._s(t.$route.meta.title))])],1)],1),n(\"div\",{staticClass:\"content__main\"},[n(\"div\",{staticClass:\"content__searchbar__wrapper\"},[n(\"el-input\",{staticStyle:{\"max-width\":\"20em\"},attrs:{placeholder:\"请输入问题名称\",maxlength:\"20\",clearable:\"\"},model:{value:t.queryParam,callback:function(e){t.queryParam=e},expression:\"queryParam\"}}),n(\"el-button\",{attrs:{icon:\"el-icon-search\",type:\"primary\",plain:\"\"},on:{click:t.fetchProblemList}})],1),n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.loading,expression:\"loading\"}],staticStyle:{width:\"100%\"},attrs:{data:t.tableData}},[n(\"el-table-column\",{attrs:{label:\"ID\",prop:\"id\",width:\"180\"}}),n(\"el-table-column\",{attrs:{label:\"标题\",prop:\"title\",\"min-width\":\"300\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[n(\"a\",{attrs:{href:\"/problem/\"+e.row.id,target:\"_blank\"}},[t._v(t._s(e.row.title))])]}}])}),n(\"el-table-column\",{attrs:{label:\"标签\",\"min-width\":\"300\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return t._l(e.row.tags,function(e){return n(\"el-button\",{key:e.id,staticClass:\"text-button text-button--success\",attrs:{size:\"mini\"}},[t._v(t._s(e.name))])})}}])}),n(\"el-table-column\",{attrs:{label:\"状态\",width:\"180\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[n(\"span\",{staticClass:\"text-button\",class:[0==e.row.defunct?\"text-button--success\":\"text-button--danger\"]},[t._v(t._s(0==e.row.defunct?\"启用\":\"保留\"))])]}}])}),n(\"el-table-column\",{attrs:{label:\"操作\",width:\"300\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[n(\"el-button\",{attrs:{size:\"mini\"},on:{click:function(n){return t.$router.push({name:\"adminProblemData\",params:{id:e.row.id}})}}},[t._v(\"数据\")]),n(\"el-button\",{attrs:{size:\"mini\",type:\"primary\"},on:{click:function(n){return t.$router.push({name:\"adminEditProblem\",params:{id:e.row.id}})}}},[t._v(\"编辑\")]),n(\"el-button\",{attrs:{size:\"mini\",type:0==e.row.defunct?\"danger\":\"success\"},on:{click:function(n){return t.handleToggleProblemStatus(e.row)}}},[t._v(t._s(0==e.row.defunct?\"保留\":\"启用\"))]),n(\"el-button\",{attrs:{size:\"mini\",type:\"danger\"},on:{click:function(n){return t.handleDeleteProblem(e.row)}}},[t._v(\"删除\")])]}}])})],1),n(\"el-pagination\",{attrs:{\"current-page\":t.currentPage,\"page-sizes\":[10,20,30,40,50],\"page-size\":10,layout:\"total, sizes, prev, pager, next, jumper\",total:t.total},on:{\"size-change\":t.handleSizeChange,\"current-change\":t.fetchProblemList,\"update:currentPage\":function(e){t.currentPage=e},\"update:current-page\":function(e){t.currentPage=e}}})],1)])},[],!1,null,\"2f28f16e\",null);e.default=i.exports}}]);","extractedComments":[]}
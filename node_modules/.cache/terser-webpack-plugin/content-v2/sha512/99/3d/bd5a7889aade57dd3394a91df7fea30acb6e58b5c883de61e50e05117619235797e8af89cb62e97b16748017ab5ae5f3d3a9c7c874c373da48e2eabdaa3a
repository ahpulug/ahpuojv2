{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{138:function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"content\"},[a(\"div\",{staticClass:\"contemt__breadcrumb\"},[a(\"el-breadcrumb\",{attrs:{separator:\"/\"}},[a(\"el-breadcrumb-item\",{attrs:{to:{name:\"index\"}}},[t._v(\"首页\")]),t._v(\" \"),a(\"el-breadcrumb-item\",[t._v(t._s(t.$route.meta.title))])],1)],1),t._v(\" \"),a(\"div\",{staticClass:\"content__main\"},[a(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{data:t.tableData}},[a(\"el-table-column\",{attrs:{label:\"ID\",prop:\"id\",width:\"180\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{label:\"标题\",prop:\"title\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{label:\"操作\",width:\"180\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"router-link\",{attrs:{to:{name:\"editnew\",params:{id:e.row.id}}}},[a(\"el-button\",{attrs:{size:\"mini\"}},[t._v(\"编辑\")])],1),t._v(\" \"),a(\"el-button\",{attrs:{size:\"mini\",type:\"danger\"},on:{click:function(a){return t.handleDeleteNew(e.row)}}},[t._v(\"删除\")])]}}])})],1),t._v(\" \"),a(\"div\",{staticClass:\"content__pagination__wrapper\"},[a(\"el-pagination\",{attrs:{\"current-page\":t.currentPage,\"page-size\":t.perpage,layout:\"prev, pager, next, jumper\",total:t.total},on:{\"current-change\":t.fetchNewList,\"update:currentPage\":function(e){t.currentPage=e},\"update:current-page\":function(e){t.currentPage=e}}})],1)],1)])};n._withStripped=!0;var r=a(14),i={data:()=>({currentPage:1,currentRowId:0,perpage:0,total:0,submitMode:\"\",form:{title:\"\"},rules:{title:[{required:!0,message:\"请输入新闻名称\",trigger:\"blur\"},{max:20,message:\"超出长度限制\",trigger:\"blur\"}]},tableData:[]}),mounted:function(){this.fetchNewList()},methods:{fetchNewList(){let t=this;Object(r.e)(t.currentPage).then(e=>{let a=e.data;t.tableData=a.data,t.perpage=a.perpage,t.total=a.total}).catch(t=>{console.log(t)})},handleEditNew(t){this.dialogFormTitle=\"编辑新闻\",this.submitMode=\"edit\",this.currentRowId=t.id,this.form.title=t.title,this.dialogFormVisible=!0},handleDeleteNew(t){let e=this;e.$confirm(`确认要删除新闻${t.title}吗?`,\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(()=>{Object(r.b)(t.id).then(t=>{e.$message({type:\"success\",message:t.data.message}),this.fetchNewList()}).catch(t=>{e.$message({type:\"error\",message:t.response.data.message})})}).catch(()=>{e.$message({type:\"info\",message:\"已取消删除\"})})}}},s=a(2),c=Object(s.a)(i,n,[],!1,null,\"86537690\",null);c.options.__file=\"web/js/pages/admin/new_list/index.vue\";e.default=c.exports},14:function(t,e,a){\"use strict\";a.d(e,\"a\",function(){return r}),a.d(e,\"c\",function(){return i}),a.d(e,\"d\",function(){return s}),a.d(e,\"e\",function(){return c}),a.d(e,\"b\",function(){return o});var n=a(6);function r(t){return Object(n.a)(\"POST\",\"admin/new\",t)}function i(t,e){return console.log(t,e),Object(n.a)(\"PUT\",`admin/new/${t}`,e)}function s(t){return Object(n.a)(\"GET\",`admin/new/${t}`)}function c(t){return Object(n.a)(\"GET\",\"admin/news\",{page:t})}function o(t){return Object(n.a)(\"DELETE\",`admin/new/${t}`)}}}]);","extractedComments":[]}
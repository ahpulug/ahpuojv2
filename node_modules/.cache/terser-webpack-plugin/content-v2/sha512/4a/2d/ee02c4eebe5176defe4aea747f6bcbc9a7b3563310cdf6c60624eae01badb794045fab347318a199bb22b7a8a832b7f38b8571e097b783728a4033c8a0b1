{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{295:function(e,t,o){var n=o(655);\"string\"==typeof n&&(n=[[e.i,n,\"\"]]);var a={hmr:!0,transform:void 0,insertInto:void 0};o(14)(n,a);n.locals&&(e.exports=n.locals)},654:function(e,t,o){\"use strict\";var n=o(295);o.n(n).a},655:function(e,t,o){(e.exports=o(13)(!1)).push([e.i,\".red[data-v-1ee71024]{color:red}.green[data-v-1ee71024]{color:green}.blue[data-v-1ee71024]{color:blue}.black[data-v-1ee71024]{color:#000}.white[data-v-1ee71024]{color:#fff}.yellow[data-v-1ee71024]{color:#ff0}.gold[data-v-1ee71024]{color:gold}.purple[data-v-1ee71024]{color:purple}.cyan[data-v-1ee71024]{color:cyan}.orange[data-v-1ee71024]{color:orange}.orangered[data-v-1ee71024]{color:#ff4500}.pink[data-v-1ee71024]{color:pink}.violet[data-v-1ee71024]{color:violet}.yellowgreen[data-v-1ee71024]{color:#9acd32}.tomato[data-v-1ee71024]{color:tomato}.tan[data-v-1ee71024]{color:tan}.snow[data-v-1ee71024]{color:snow}.gray[data-v-1ee71024]{color:gray}.silver[data-v-1ee71024]{color:silver}.skyblue[data-v-1ee71024]{color:skyblue}.navy[data-v-1ee71024]{color:navy}.brown[data-v-1ee71024]{color:brown}.beige[data-v-1ee71024]{color:beige}.magenta[data-v-1ee71024]{color:#f0f}.c0[data-v-1ee71024]{color:#000}.c1[data-v-1ee71024]{color:#111}.c2[data-v-1ee71024]{color:#222}.c3[data-v-1ee71024]{color:#333}.c4[data-v-1ee71024]{color:#444}.c5[data-v-1ee71024]{color:#555}.c6[data-v-1ee71024]{color:#666}.c7[data-v-1ee71024]{color:#777}.c8[data-v-1ee71024]{color:#888}.c9[data-v-1ee71024]{color:#999}.c10[data-v-1ee71024]{color:#aaa}.c11[data-v-1ee71024]{color:#bbb}.c12[data-v-1ee71024]{color:#ccc}.c13[data-v-1ee71024]{color:#ddd}.c14[data-v-1ee71024]{color:#eee}.c15[data-v-1ee71024]{color:#fff}.porange[data-v-1ee71024]{color:#fc9}.pgold[data-v-1ee71024]{color:#ffc}.pazure[data-v-1ee71024]{color:#cff}.pdgreen[data-v-1ee71024]{color:#9cc}.ppurple[data-v-1ee71024]{color:#ccf}.pblue[data-v-1ee71024]{color:#09c}.plblue[data-v-1ee71024]{color:#9cf}.pdblue[data-v-1ee71024]{color:#369}.pgreen[data-v-1ee71024]{color:#9c3}.solution__main[data-v-1ee71024]{position:relative;background:#fff;color:#111;margin-right:250px;min-height:6rem;padding:0.2rem;text-align:left}.solution__main h1[data-v-1ee71024]{font-size:24px;margin-bottom:0.1rem}.solution__main .solution__section[data-v-1ee71024]{color:#444;border-top:1px solid #eee;padding:0.1rem 0 0.2rem 0;font-size:20px}.solution__siderbar[data-v-1ee71024]{text-align:left;min-height:600px;width:240px;background:#fff;box-sizing:border-box;padding:0.1rem;position:relative}.solution__siderbar ul li[data-v-1ee71024]{margin-top:20px}.solution__siderbar ul .userinfo__wrapper img[data-v-1ee71024]{width:80px;height:80px;border-radius:40px}\\n\",\"\"])},700:function(e,t,o){\"use strict\";o.r(t);o(10),o(7),o(31),o(11),o(304);var n=o(15),a=o(169),r=o(30),s=(o(87),o(50));function i(e,t,o,n,a,r,s){try{var i=e[r](s),l=i.value}catch(e){return void o(e)}i.done?t(l):Promise.resolve(l).then(n,a)}function l(e){return function(){var t=this,o=arguments;return new Promise(function(n,a){var r=e.apply(t,o);function s(e){i(r,n,a,s,l,\"next\",e)}function l(e){i(r,n,a,s,l,\"throw\",e)}s(void 0)})}}var c={components:{CodeMirror:a.a},data:function(){return{solution:{problem:{},user:{}},langList:[],rules:{},seeable:!1,resultList:[],timer:0}},mounted:function(){this.resultList=s.b,this.langList=s.a,this.init()},methods:{init:function(){var e=l(regeneratorRuntime.mark(function e(){var t,o,a,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=(t=this).$route.params.id,e.prev=2,e.next=5,Object(n.n)(o);case 5:a=e.sent,r=a.data,t.seeable=r.seeable,t.solution=r.solution,t.solution.result<4&&(s=this.$loading({lock:!0,text:\"评测中\",spinner:\"el-icon-loading\",background:\"rgba(0, 0, 0, 0.7)\"}),t.timer=setInterval(l(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(n.n)(o);case 2:a=e.sent,r=a.data,t.seeable=r.seeable,t.solution=r.solution,t.solution.result>=4&&(clearInterval(t.timer),s.close());case 7:case\"end\":return e.stop()}},e)})),2e3)),console.log(t.solution),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0),t.$router.replace({name:\"404Page\"});case 17:case\"end\":return e.stop()}},e,this,[[2,13]])}));return function(){return e.apply(this,arguments)}}(),handleSearchTag:function(e){this.$store.dispatch(\"setTag\",e),this.$router.push({name:\"problemSet\"})},handleDownloadDataFile:function(){var e=l(regeneratorRuntime.mark(function e(t){var o,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(r.a)(this.solution.problem.id,this.solution.id,t);case 3:o=e.sent,n=window.URL.createObjectURL(new Blob([o.data])),(a=document.createElement(\"a\")).style.display=\"none\",a.href=n,a.setAttribute(\"download\",t),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(n),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case\"end\":return e.stop()}},e,this,[[0,15]])}));return function(t){return e.apply(this,arguments)}}(),handleToggleSolutionStatus:function(){var e=l(regeneratorRuntime.mark(function e(){var t,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,Object(r.k)(t.solution.id);case 4:o=e.sent,t.solution.public=!t.solution.public,this.$message({message:o.data.message,type:\"success\"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),this.$message({message:e.t0.response.data.message,type:\"err\"});case 13:case\"end\":return e.stop()}},e,this,[[1,9]])}));return function(){return e.apply(this,arguments)}}()},computed:{wrongFileName:function(){return this.solution.runtime_info.substring(0,this.solution.runtime_info.lastIndexOf(\".\"))},renderWrongInfo:function(){return this.solution.runtime_info?this.solution.result>=5&&this.solution.result<=8?\"测试样例\"+this.wrongFileName+\"处发生了错误\":solution.runtime_info:\"没有错误信息\"}},beforeDestroy:function(){this.timer&&clearInterval(this.timer)}},u=(o(654),o(2)),d=Object(u.a)(c,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o(\"div\",{staticClass:\"content\"},[o(\"title\",[e._v(e._s(\"S\"+e.solution.id+\" 评测详情 - AHPUOJ\"))]),o(\"div\",{staticClass:\"content__main\"},[o(\"div\",{staticClass:\"solution__siderbar fr\"},[o(\"ul\",[o(\"li\",{staticClass:\"userinfo__wrapper align__center\"},[o(\"router-link\",{attrs:{to:{name:\"userinfo\",params:{id:e.solution.user.id}}}},[o(\"img\",{attrs:{src:e.imgUrl(e.solution.user.avatar)}})])],1),o(\"li\",{staticClass:\"align__center\"},[o(\"router-link\",{attrs:{to:{name:\"userinfo\",params:{id:e.solution.user.id}}}},[e._v(e._s(e.solution.user.nick))])],1),o(\"li\",[o(\"strong\",[e._v(\"代码\")]),o(\"span\",{staticClass:\"fr\"},[e._v(e._s(e.langList[e.solution.language]+\" \"+e.solution.code_length+\"kb\"))])]),o(\"li\",[o(\"strong\",[e._v(\"提交时间\")]),o(\"span\",{staticClass:\"fr\"},[e._v(e._s(e.solution.in_date))])])])]),o(\"div\",{staticClass:\"solution__main clearfix\"},[o(\"h1\",{staticClass:\"content__panel__title\",staticStyle:{\"padding-left\":\"0\"}},[e._v(\"评测详情\")]),o(\"div\",{staticClass:\"solution__section\"},[o(\"h3\",[e._v(\"问题\"),o(\"p\",[0==e.solution.contest_id?o(\"router-link\",{attrs:{to:{name:\"problem\",params:{id:e.solution.problem.id}}}},[e._v(e._s(\"P\"+e.solution.problem.id+\"  \"+e.solution.problem.title))]):o(\"router-link\",{attrs:{to:{name:\"contestProblem\",params:{id:e.solution.contest_id,num:e.solution.num}}}},[e._v(e._s(\"C\"+e.solution.contest_id+\"  \"+e.engNum(e.solution.num)+\" \"+e.solution.problem.title))])],1)])]),o(\"div\",{staticClass:\"solution__section\"},[o(\"h3\",[e._v(\"结果\")]),o(\"p\",[e._v(e._s(e.resultList[e.solution.result]?e.resultList[e.solution.result].name:\"\"))])]),o(\"div\",{staticClass:\"solution__section\"},[o(\"h3\",[e._v(\"运行信息\")]),o(\"p\",[e._v(e._s(\"用时\"+e.solution.time+\"ms \\\\ 内存\"+e.solution.memory+\"kb\"))])]),o(\"div\",{staticClass:\"solution__section\"},[o(\"h3\",[e._v(\"编译信息\")]),o(\"p\",[e._v(e._s(e.solution.compile_info?e.solution.compile_info:\"没有编译信息\"))])]),o(\"div\",{staticClass:\"solution__section\"},[o(\"h3\",[e._v(\"错误信息\")]),o(\"p\",[e._v(e._s(e.renderWrongInfo))])]),e.solution.runtime_info&&e.$store.getters.userId==e.solution.user.id&&0==e.solution.contest_id&&e.solution.result>=5&&e.solution.result<=8?[o(\"div\",{staticClass:\"solution__section\"},[o(\"h3\",[e._v(\"测试点数据下载\")]),o(\"el-button\",{attrs:{size:\"mini\",type:\"success\"},on:{click:function(t){return e.handleDownloadDataFile(e.wrongFileName+\".in\")}}},[e._v(e._s(e.wrongFileName+\".in\"))]),o(\"el-button\",{attrs:{size:\"mini\",type:\"success\"},on:{click:function(t){return e.handleDownloadDataFile(e.wrongFileName+\".out\")}}},[e._v(e._s(e.wrongFileName+\".out\"))])],1)]:e._e(),0==e.solution.contest_id&&4==e.solution.result&&e.$store.getters.userId==e.solution.user.id?o(\"div\",{staticClass:\"solution__section\"},[o(\"h3\",[e._v(\"公开代码\")]),o(\"p\",[e._v(\"公开你的源码，用你的智慧帮助其他的人解决问题！\")]),o(\"p\",{staticClass:\"mt10\"},[e._v(\"当前状态 \"),o(\"span\",{staticClass:\"text-button\",class:[0==e.solution.public?\"text-button--danger\":\"text-button--success\"]},[e._v(e._s(0==e.solution.public?\"不公开\":\"公开\"))])]),o(\"el-button\",{staticClass:\"mt10\",attrs:{type:1==e.solution.public?\"danger\":\"primary\"},on:{click:e.handleToggleSolutionStatus}},[e._v(e._s(1==e.solution.public?\"隐藏代码\":\"公开代码\"))])],1):e._e(),o(\"div\",{staticClass:\"solution__section\"},[o(\"h3\",[e._v(\"代码\")]),e.seeable?o(\"code-mirror\",{attrs:{code:e.solution.source,language:e.solution.language,readonly:!0},on:{\"update:code\":function(t){return e.$set(e.solution,\"source\",t)}}}):o(\"p\",[e._v(\"你没有查看这份代码的权限\")])],1)],2)])])},[],!1,null,\"1ee71024\",null);t.default=d.exports}}]);","extractedComments":[]}
{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{159:function(t,a,e){var o=e(421);\"string\"==typeof o&&(o=[[t.i,o,\"\"]]);var n={hmr:!0,transform:void 0,insertInto:void 0};e(8)(o,n);o.locals&&(t.exports=o.locals)},420:function(t,a,e){\"use strict\";var o=e(159);e.n(o).a},421:function(t,a,e){(t.exports=e(7)(!1)).push([t.i,\".red[data-v-915acb7a]{color:red}.green[data-v-915acb7a]{color:green}.blue[data-v-915acb7a]{color:blue}.black[data-v-915acb7a]{color:#000}.white[data-v-915acb7a]{color:#fff}.yellow[data-v-915acb7a]{color:#ff0}.gold[data-v-915acb7a]{color:gold}.purple[data-v-915acb7a]{color:purple}.cyan[data-v-915acb7a]{color:cyan}.orange[data-v-915acb7a]{color:orange}.orangered[data-v-915acb7a]{color:#ff4500}.pink[data-v-915acb7a]{color:pink}.violet[data-v-915acb7a]{color:violet}.yellowgreen[data-v-915acb7a]{color:#9acd32}.tomato[data-v-915acb7a]{color:tomato}.tan[data-v-915acb7a]{color:tan}.snow[data-v-915acb7a]{color:snow}.gray[data-v-915acb7a]{color:gray}.silver[data-v-915acb7a]{color:silver}.skyblue[data-v-915acb7a]{color:skyblue}.navy[data-v-915acb7a]{color:navy}.brown[data-v-915acb7a]{color:brown}.beige[data-v-915acb7a]{color:beige}.magenta[data-v-915acb7a]{color:#f0f}.c0[data-v-915acb7a]{color:#000}.c1[data-v-915acb7a]{color:#111}.c2[data-v-915acb7a]{color:#222}.c3[data-v-915acb7a]{color:#333}.c4[data-v-915acb7a]{color:#444}.c5[data-v-915acb7a]{color:#555}.c6[data-v-915acb7a]{color:#666}.c7[data-v-915acb7a]{color:#777}.c8[data-v-915acb7a]{color:#888}.c9[data-v-915acb7a]{color:#999}.c10[data-v-915acb7a]{color:#aaa}.c11[data-v-915acb7a]{color:#bbb}.c12[data-v-915acb7a]{color:#ccc}.c13[data-v-915acb7a]{color:#ddd}.c14[data-v-915acb7a]{color:#eee}.c15[data-v-915acb7a]{color:#fff}.porange[data-v-915acb7a]{color:#fc9}.pgold[data-v-915acb7a]{color:#ffc}.pazure[data-v-915acb7a]{color:#cff}.pdgreen[data-v-915acb7a]{color:#9cc}.ppurple[data-v-915acb7a]{color:#ccf}.pblue[data-v-915acb7a]{color:#09c}.plblue[data-v-915acb7a]{color:#9cf}.pdblue[data-v-915acb7a]{color:#369}.pgreen[data-v-915acb7a]{color:#9c3}.contest-ranklist__wrapper[data-v-915acb7a]{background:#fff}.contest-ranklist__wrapper .link[data-v-915acb7a]{padding:0 0.1rem}\\n\",\"\"])},587:function(t,a,e){\"use strict\";e.r(a);var o=e(6),n={name:\"\",data:()=>({problemColumnIOffset:5,tableData:[],contest:{},timer:0,seeable:!1,reason:\"\"}),mounted(){this.fetctContestRankList(),this.timer=setInterval(()=>{this.fetctContestRankList()},6e4)},methods:{async fetctContestRankList(){const t=this;t.loading=!0;try{let a=await Object(o.e)(t.$route.params.id);console.log(a);let e=a.data;t.tableData=e.ranklist,t.seeable=e.seeable,t.reason=e.reason,t.contest=e.contest}catch(a){t.$router.replace({name:\"404Page\"}),console.log(a)}},handleSizeChange(t){this.fetchNewList()},calcProblemStatus(t,a){let e=\"\";return t.ac_time[a-1]>0&&(e+=this.secToTimeStr(t.ac_time[a-1])),t.wa_count[a-1]>0&&(e+=`(-${t.wa_count[a-1]})`),e},cellStyle({row:t,column:a,rowIndex:e,columnIndex:o}){if(o>=this.problemColumnIOffset){if(t.ac_time[o-this.problemColumnIOffset]>0){let a=51+32*t.wa_count[o-this.problemColumnIOffset];return`background:#${(a=(a=a>170?170:a).toString(16))+\"ff\"+a};`}if(t.wa_count[o-this.problemColumnIOffset]>0){let a=170-10*t.wa_count[o-this.problemColumnIOffset];return`background:#${\"ff\"+(a=(a=a>16?a:16).toString(16))+a};`}}},rowStyle({row:t,rowIndex:a}){if(t.user.username==this.$store.getters.username)return\"background: #f0f9eb;\"},jumpToContestStatus(t){this.$store.dispatch(\"setSolutionFilter\",{nick:t.user.nick}),this.$router.push({name:\"contestStatus\",params:{id:this.contest.id}})}},beforeDestroy(){this.timer&&clearInterval(this.timer)}},r=(e(420),e(2)),c=Object(r.a)(n,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",{staticClass:\"content\"},[e(\"title\",[t._v(t._s(\"竞赛&作业排名 -- \"+t.contest.name+\" - AHPUOJ\"))]),e(\"div\",{staticClass:\"content__main\"},[e(\"div\",{staticClass:\"contest-ranklist__wrapper\"},[e(\"h1\",{staticClass:\"content__panel__title\"},[t._v(t._s(\"竞赛&作业排名 -- \"+t.contest.name))]),t.seeable?e(\"el-table\",{staticClass:\"dataTable\",staticStyle:{width:\"100%\"},attrs:{data:t.tableData,\"cell-style\":t.cellStyle,\"row-style\":t.rowStyle}},[e(\"el-table-column\",{attrs:{label:\"排名\",type:\"index\",\"min-width\":\"40\"}}),e(\"el-table-column\",{attrs:{label:\"用户名\",\"min-width\":\"160\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"router-link\",{attrs:{to:{name:\"userinfo\",params:{id:a.row.user.id}}}},[t._v(\" \"+t._s(a.row.user.username))])]}}],null,!1,3393593140)}),e(\"el-table-column\",{attrs:{label:\"昵称\",\"min-width\":\"160\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"router-link\",{attrs:{to:{name:\"userinfo\",params:{id:a.row.user.id}}}},[t._v(\" \"+t._s(a.row.user.nick))])]}}],null,!1,1386754637)}),e(\"el-table-column\",{attrs:{label:\"通过\",\"min-width\":\"70\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"a\",{staticClass:\"link\",on:{click:function(e){return t.jumpToContestStatus(a.row)}}},[t._v(t._s(a.row.solved))])]}}],null,!1,1425354814)}),e(\"el-table-column\",{attrs:{label:\"罚时\",\"min-width\":\"100\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[t._v(t._s(t.secToTimeStr(a.row.time)))]}}],null,!1,3049783015)}),t._l(t.contest.problem_count,function(a){return[e(\"el-table-column\",{attrs:{\"min-width\":\"100\"},scopedSlots:t._u([{key:\"header\",fn:function(a){return[e(\"router-link\",{attrs:{to:{name:\"contestProblem\",params:{id:t.contest.id,num:a.$index-t.problemColumnIOffset+1}}}},[t._v(t._s(t.engNum(a.$index-t.problemColumnIOffset+1)))])]}},{key:\"default\",fn:function(e){return[t._v(t._s(t.calcProblemStatus(e.row,a)))]}}],null,!0)})]})],2):e(\"p\",[t._v(t._s(t.reason)+\"              \")])],1)])])},[],!1,null,\"915acb7a\",null);a.default=c.exports},6:function(t,a,e){\"use strict\";e.d(a,\"i\",function(){return n}),e.d(a,\"m\",function(){return r}),e.d(a,\"j\",function(){return c}),e.d(a,\"h\",function(){return l}),e.d(a,\"g\",function(){return s}),e.d(a,\"k\",function(){return u}),e.d(a,\"l\",function(){return i}),e.d(a,\"n\",function(){return d}),e.d(a,\"o\",function(){return b}),e.d(a,\"c\",function(){return f}),e.d(a,\"b\",function(){return p}),e.d(a,\"e\",function(){return m}),e.d(a,\"f\",function(){return v}),e.d(a,\"d\",function(){return g}),e.d(a,\"a\",function(){return _});var o=e(0);function n(){return Object(o.a)(\"GET\",\"languages\")}function r(t,a){return Object(o.a)(\"GET\",\"ranklist\",{page:t,perpage:a})}function c(t,a){return Object(o.a)(\"GET\",\"news\",{page:t,perpage:a})}function l(t,a,e){return Object(o.a)(\"GET\",`problem/${t}/issues`,{page:a,perpage:e})}function s(t,a,e){return Object(o.a)(\"GET\",`/issue/${t}`,{page:a,perpage:e})}function u(t){return Object(o.a)(\"GET\",`problem/${t}`)}function i(t,a,e,n,r){return Object(o.a)(\"GET\",\"problems\",{page:t,perpage:a,param:e,level:n,tag_id:r})}function d(t){return Object(o.a)(\"GET\",`solution/${t}`)}function b(t,a,e,n,r,c,l){return Object(o.a)(\"GET\",\"solutions\",{page:t,perpage:a,param:e,username:n,language:r,result:c,contest_id:l})}function f(t,a,e){return Object(o.a)(\"GET\",\"contests\",{page:t,perpage:a,param:e})}function p(t){return Object(o.a)(\"GET\",`contest/${t}`)}function m(t){return Object(o.a)(\"GET\",`contest/${t}/ranklist`)}function v(t){return Object(o.a)(\"GET\",`contest/${t}/teamranklist`)}function g(t,a){return Object(o.a)(\"GET\",`contest/${t}/problem/${a}`)}function _(){return Object(o.a)(\"GET\",\"alltags\")}}}]);","extractedComments":[]}
{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{158:function(t,e,a){var c=a(419);\"string\"==typeof c&&(c=[[t.i,c,\"\"]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(8)(c,r);c.locals&&(t.exports=c.locals)},418:function(t,e,a){\"use strict\";var c=a(158);a.n(c).a},419:function(t,e,a){(t.exports=a(7)(!1)).push([t.i,\".red[data-v-1ecd41cc]{color:red}.green[data-v-1ecd41cc]{color:green}.blue[data-v-1ecd41cc]{color:blue}.black[data-v-1ecd41cc]{color:#000}.white[data-v-1ecd41cc]{color:#fff}.yellow[data-v-1ecd41cc]{color:#ff0}.gold[data-v-1ecd41cc]{color:gold}.purple[data-v-1ecd41cc]{color:purple}.cyan[data-v-1ecd41cc]{color:cyan}.orange[data-v-1ecd41cc]{color:orange}.orangered[data-v-1ecd41cc]{color:#ff4500}.pink[data-v-1ecd41cc]{color:pink}.violet[data-v-1ecd41cc]{color:violet}.yellowgreen[data-v-1ecd41cc]{color:#9acd32}.tomato[data-v-1ecd41cc]{color:tomato}.tan[data-v-1ecd41cc]{color:tan}.snow[data-v-1ecd41cc]{color:snow}.gray[data-v-1ecd41cc]{color:gray}.silver[data-v-1ecd41cc]{color:silver}.skyblue[data-v-1ecd41cc]{color:skyblue}.navy[data-v-1ecd41cc]{color:navy}.brown[data-v-1ecd41cc]{color:brown}.beige[data-v-1ecd41cc]{color:beige}.magenta[data-v-1ecd41cc]{color:#f0f}.c0[data-v-1ecd41cc]{color:#000}.c1[data-v-1ecd41cc]{color:#111}.c2[data-v-1ecd41cc]{color:#222}.c3[data-v-1ecd41cc]{color:#333}.c4[data-v-1ecd41cc]{color:#444}.c5[data-v-1ecd41cc]{color:#555}.c6[data-v-1ecd41cc]{color:#666}.c7[data-v-1ecd41cc]{color:#777}.c8[data-v-1ecd41cc]{color:#888}.c9[data-v-1ecd41cc]{color:#999}.c10[data-v-1ecd41cc]{color:#aaa}.c11[data-v-1ecd41cc]{color:#bbb}.c12[data-v-1ecd41cc]{color:#ccc}.c13[data-v-1ecd41cc]{color:#ddd}.c14[data-v-1ecd41cc]{color:#eee}.c15[data-v-1ecd41cc]{color:#fff}.porange[data-v-1ecd41cc]{color:#fc9}.pgold[data-v-1ecd41cc]{color:#ffc}.pazure[data-v-1ecd41cc]{color:#cff}.pdgreen[data-v-1ecd41cc]{color:#9cc}.ppurple[data-v-1ecd41cc]{color:#ccf}.pblue[data-v-1ecd41cc]{color:#09c}.plblue[data-v-1ecd41cc]{color:#9cf}.pdblue[data-v-1ecd41cc]{color:#369}.pgreen[data-v-1ecd41cc]{color:#9c3}.status__main[data-v-1ecd41cc]{background:#fff;margin-right:250px}.status__main .user__avatar__wrapper img[data-v-1ecd41cc]{width:50px;height:50px;border-radius:25px}.status__siderbar[data-v-1ecd41cc]{text-align:left;min-height:600px;width:240px;background:#fff;box-sizing:border-box;padding:0.1rem}.status__siderbar ul.status__siderbar__list[data-v-1ecd41cc]{font-size:20px}.status__siderbar ul.status__siderbar__list>li[data-v-1ecd41cc]{padding:10px 0}.status__siderbar ul.status__siderbar__list>li[data-v-1ecd41cc]:not(:last-child){border-bottom:1px solid #ddd}.status__siderbar ul.status__siderbar__list>li[data-v-1ecd41cc]:first-child{padding-top:0px}.status__siderbar ul.button-list[data-v-1ecd41cc]{display:flex;justify-content:flex-start;align-content:flex-start;flex-wrap:wrap}.status__siderbar ul.button-list li[data-v-1ecd41cc]{flex:0 1 auto}\\n\",\"\"])},586:function(t,e,a){\"use strict\";a.r(e);var c=a(6),r=a(26),n={data:()=>({loading:!1,currentPage:1,perpage:20,tableData:[],queryParam:\"\",contestId:0,contestPnum:-1,nick:\"\",language:-1,result:-1,total:0,langList:[],resultList:[],timer:0}),async mounted(){let t=await Object(c.i)();this.resultList=r.b,this.langList=t.data.languages},methods:{async getSolutionList(){const t=this;try{let e=(await Object(c.o)(t.currentPage,t.perpage,t.queryParam,t.nick,t.language,t.result,t.contestId)).data;setTimeout(()=>{t.tableData=e.data,t.total=e.total,this.loading=!1},200)}catch(t){console.log(t)}},handleSearchByResetConf(){this.loading=!0,this.queryParam=\"\",this.nick=\"\",this.language=-1,this.result=-1,this.getSolutionList()},handleSearchMine(){this.loading=!0,this.nick=this.$store.getters.userNick,this.getSolutionList()},handleSearchByProblem(){this.loading=!0,this.getSolutionList()},handleSearchByParam(){this.loading=!0,this.getSolutionList()},handleSearchByNick(){this.loading=!0,this.getSolutionList()},handleSearchByLanguage(t){this.loading=!0,this.language=t,this.getSolutionList()},handleSearchByResult(t){this.loading=!0,this.result=t,this.getSolutionList()},handleSearchByTag(t){this.loading=!0,this.tagId=t,this.getSolutionList()},calcRate(t){let e=0==t.submit?0:t.solved/t.submit;return Number(100*e).toFixed(2)+\"%\"},calcRerultType:t=>4==t?\"success\":\"danger\",calcCodeLength:t=>Number(t/1e3).toFixed(2)+\"KB\"},computed:{searchableResultList(){return this.resultList.filter((t,e,a)=>t.code>=4&&t.code<=11)}},activated(){\"contestStatus\"==this.$route.name?this.contestId=this.$route.params.id:this.contestId=0,console.log(123),\"\"+this.$store.getters.solutionQueryParam&&(this.queryParam=\"\"+this.$store.getters.solutionQueryParam),\"\"+this.$store.getters.solutionUserNick&&(this.nick=\"\"+this.$store.getters.solutionUserNick),-1!=this.$store.getters.solutionLanguage&&(this.language=this.$store.getters.solutionLanguage),-1!=this.$store.getters.solutionResult&&(this.result=this.$store.getters.solutionResult),this.$store.dispatch(\"resetSolutionFilter\"),this.getSolutionList(),this.timer=setInterval(()=>{this.getSolutionList()},5e3)},deactivated(){this.timer&&clearInterval(this.timer)},beforeDestroy(){this.timer&&clearInterval(this.timer)},watch:{$route(t,e){(\"contestStatus\"==e.name&&\"status\"==t.name||\"contestStatus\"==t.name&&\"status\"==e.name)&&this.$router.replace({name:\"refresh\"})}}},o=(a(418),a(2)),s=Object(o.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"content\"},[a(\"div\",{staticClass:\"content__main\"},[a(\"div\",{staticClass:\"status__siderbar fr\"},[a(\"ul\",{staticClass:\"status__siderbar__list\"},[a(\"li\",[a(\"el-button\",{staticStyle:{\"margin-top\":\"10px\"},attrs:{size:\"mini\",round:\"\"},on:{click:function(e){return t.handleSearchByResetConf()}}},[t._v(\"重置\")]),a(\"el-button\",{staticStyle:{\"margin-top\":\"10px\"},attrs:{size:\"mini\",round:\"\",disabled:0===t.$store.getters.username.length},on:{click:function(e){return t.handleSearchMine(0)}}},[t._v(\"我的记录\")])],1),a(\"li\",[a(\"p\",[t._v(\"按问题检索：\")]),a(\"div\",{staticClass:\"siderbar__searchbar__wrapper\"},[a(\"el-input\",{staticStyle:{\"max-width\":\"20em\"},attrs:{placeholder:\"status\"==t.$route.name?\"请输入问题名/ID\":\"请输入题号(如A)\",maxlength:\"20\",clearable:\"\"},nativeOn:{keyup:function(e){return!e.type.indexOf(\"key\")&&t._k(e.keyCode,\"enter\",13,e.key,\"Enter\")?null:t.handleSearchByProblem(e)}},model:{value:t.queryParam,callback:function(e){t.queryParam=e},expression:\"queryParam\"}},[a(\"el-button\",{attrs:{slot:\"append\",icon:\"el-icon-search\"},on:{click:t.handleSearchByParam},slot:\"append\"})],1)],1)]),a(\"li\",[a(\"p\",[t._v(\"按用户检索：\")]),a(\"div\",{staticClass:\"siderbar__searchbar__wrapper\"},[a(\"el-input\",{staticStyle:{\"max-width\":\"20em\"},attrs:{placeholder:\"请输入用户昵称\",maxlength:\"20\",clearable:\"\"},nativeOn:{keyup:function(e){return!e.type.indexOf(\"key\")&&t._k(e.keyCode,\"enter\",13,e.key,\"Enter\")?null:t.handleSearchByNick(e)}},model:{value:t.nick,callback:function(e){t.nick=e},expression:\"nick\"}},[a(\"el-button\",{attrs:{slot:\"append\",icon:\"el-icon-search\"},on:{click:t.handleSearchByNick},slot:\"append\"})],1)],1)]),a(\"li\",[a(\"p\",[t._v(\"按语言检索：\")]),a(\"ul\",{staticClass:\"button-list\"},[a(\"li\",[a(\"el-button\",{class:[\"tag__button\",-1==t.language?\"tag__button__active\":\"\"],attrs:{size:\"mini\",round:\"\"},on:{click:function(e){return t.handleSearchByLanguage(-1)}}},[t._v(\"全部\")])],1),t._l(t.langList,function(e,c){return[e.available?a(\"li\",[a(\"el-button\",{class:[\"tag__button\",t.language==c?\"tag__button__active\":\"\"],attrs:{size:\"mini\",round:\"\"},on:{click:function(e){return t.handleSearchByLanguage(c)}}},[t._v(t._s(e.name))])],1):t._e()]})],2)]),a(\"li\",[a(\"p\",[t._v(\"按结果检索：\")]),a(\"ul\",{staticClass:\"button-list\"},[a(\"li\",[a(\"el-button\",{class:[\"tag__button\",-1==t.result?\"tag__button__active\":\"\"],attrs:{size:\"mini\",round:\"\"},on:{click:function(e){return t.handleSearchByResult(-1)}}},[t._v(\"全部\")])],1),t._l(t.searchableResultList,function(e){return[a(\"li\",[a(\"el-button\",{class:[\"tag__button\",t.result==e.code?\"tag__button__active\":\"\"],attrs:{size:\"mini\",round:\"\"},on:{click:function(a){return t.handleSearchByResult(e.code)}}},[t._v(t._s(e.name))])],1)]})],2)])])]),a(\"div\",{staticClass:\"status__main\"},[a(\"h1\",{staticClass:\"content__panel__title\"},[t._v(\"评测记录\")]),a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.loading,expression:\"loading\"}],staticClass:\"dataTable\",staticStyle:{width:\"100%\"},attrs:{data:t.tableData}},[a(\"el-table-column\",{attrs:{label:\"ID\",prop:\"id\",width:\"60\"}}),a(\"el-table-column\",{attrs:{label:\"用户\",\"min-width\":\"70\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"router-link\",{attrs:{to:{name:\"userinfo\",params:{id:e.row.user.id}}}},[a(\"div\",{staticClass:\"user__avatar__wrapper\"},[a(\"img\",{staticClass:\"user__avatar\",attrs:{src:t.imgUrl(e.row.user.avatar)}})])])]}}])}),a(\"el-table-column\",{attrs:{\"min-width\":\"180\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"router-link\",{attrs:{to:{name:\"userinfo\",params:{id:e.row.user.id}}}},[a(\"span\",[t._v(t._s(\"\"+e.row.user.nick))])])]}}])}),a(\"el-table-column\",{attrs:{label:\"问题\",\"min-width\":\"180\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"router-link\",{attrs:{to:{name:\"problem\",params:{id:e.row.problem.id}}}},[t._v(t._s(\"status\"==t.$route.name?\"P\"+e.row.problem.id+\" \"+e.row.problem.title:t.engNum(e.row.num)+\" \"+e.row.problem.title))])]}}])}),a(\"el-table-column\",{attrs:{label:\"评测状态\",\"min-width\":\"80\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"router-link\",{attrs:{to:{name:\"solution\",params:{id:e.row.id}}}},[a(\"el-button\",{attrs:{size:\"mini\",type:t.calcRerultType(e.row.result)}},[t._v(t._s(t.resultList[e.row.result]?t.resultList[e.row.result].name:\"\"))])],1)]}}])}),a(\"el-table-column\",{attrs:{label:\"语言\",\"min-width\":\"80\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",[t._v(t._s(t.langList[e.row.language].name))])]}}])}),a(\"el-table-column\",{attrs:{label:\"时间\",\"min-width\":\"80\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",[t._v(t._s(e.row.time+\"ms\"))])]}}])}),a(\"el-table-column\",{attrs:{label:\"内存\",\"min-width\":\"80\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",[t._v(t._s(e.row.memory+\"KB\"))])]}}])}),a(\"el-table-column\",{attrs:{label:\"代码长度\",\"min-width\":\"80\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",[t._v(t._s(t.calcCodeLength(e.row.code_length)))])]}}])}),\"status\"==t.$route.name?a(\"el-table-column\",{attrs:{label:\"公开\",\"min-width\":\"60\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",[t._v(t._s(1==e.row.public?\"是\":\"否\"))])]}}],null,!1,3121121402)}):t._e()],1),a(\"el-pagination\",{staticClass:\"tal\",attrs:{\"current-page\":t.currentPage,background:\"\",\"page-size\":t.perpage,layout:\"prev, pager, next,jumper\",total:t.total},on:{\"current-change\":t.getSolutionList,\"update:currentPage\":function(e){t.currentPage=e},\"update:current-page\":function(e){t.currentPage=e}}})],1)])])},[],!1,null,\"1ecd41cc\",null);e.default=s.exports},6:function(t,e,a){\"use strict\";a.d(e,\"i\",function(){return r}),a.d(e,\"m\",function(){return n}),a.d(e,\"j\",function(){return o}),a.d(e,\"h\",function(){return s}),a.d(e,\"g\",function(){return l}),a.d(e,\"k\",function(){return i}),a.d(e,\"l\",function(){return u}),a.d(e,\"n\",function(){return d}),a.d(e,\"o\",function(){return g}),a.d(e,\"c\",function(){return p}),a.d(e,\"b\",function(){return h}),a.d(e,\"e\",function(){return _}),a.d(e,\"f\",function(){return b}),a.d(e,\"d\",function(){return m}),a.d(e,\"a\",function(){return f});var c=a(0);function r(){return Object(c.a)(\"GET\",\"languages\")}function n(t,e){return Object(c.a)(\"GET\",\"ranklist\",{page:t,perpage:e})}function o(t,e){return Object(c.a)(\"GET\",\"news\",{page:t,perpage:e})}function s(t,e,a){return Object(c.a)(\"GET\",`problem/${t}/issues`,{page:e,perpage:a})}function l(t,e,a){return Object(c.a)(\"GET\",`/issue/${t}`,{page:e,perpage:a})}function i(t){return Object(c.a)(\"GET\",`problem/${t}`)}function u(t,e,a,r,n){return Object(c.a)(\"GET\",\"problems\",{page:t,perpage:e,param:a,level:r,tag_id:n})}function d(t){return Object(c.a)(\"GET\",`solution/${t}`)}function g(t,e,a,r,n,o,s){return Object(c.a)(\"GET\",\"solutions\",{page:t,perpage:e,param:a,username:r,language:n,result:o,contest_id:s})}function p(t,e,a){return Object(c.a)(\"GET\",\"contests\",{page:t,perpage:e,param:a})}function h(t){return Object(c.a)(\"GET\",`contest/${t}`)}function _(t){return Object(c.a)(\"GET\",`contest/${t}/ranklist`)}function b(t){return Object(c.a)(\"GET\",`contest/${t}/teamranklist`)}function m(t,e){return Object(c.a)(\"GET\",`contest/${t}/problem/${e}`)}function f(){return Object(c.a)(\"GET\",\"alltags\")}}}]);","extractedComments":[]}
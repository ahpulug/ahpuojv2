{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{165:function(t,o,a){var e=a(436);\"string\"==typeof e&&(e=[[t.i,e,\"\"]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a(8)(e,s);e.locals&&(t.exports=e.locals)},435:function(t,o,a){\"use strict\";var e=a(165);a.n(e).a},436:function(t,o,a){(t.exports=a(7)(!1)).push([t.i,\".red[data-v-1be4dcba]{color:red}.green[data-v-1be4dcba]{color:green}.blue[data-v-1be4dcba]{color:blue}.black[data-v-1be4dcba]{color:#000}.white[data-v-1be4dcba]{color:#fff}.yellow[data-v-1be4dcba]{color:#ff0}.gold[data-v-1be4dcba]{color:gold}.purple[data-v-1be4dcba]{color:purple}.cyan[data-v-1be4dcba]{color:cyan}.orange[data-v-1be4dcba]{color:orange}.orangered[data-v-1be4dcba]{color:#ff4500}.pink[data-v-1be4dcba]{color:pink}.violet[data-v-1be4dcba]{color:violet}.yellowgreen[data-v-1be4dcba]{color:#9acd32}.tomato[data-v-1be4dcba]{color:tomato}.tan[data-v-1be4dcba]{color:tan}.snow[data-v-1be4dcba]{color:snow}.gray[data-v-1be4dcba]{color:gray}.silver[data-v-1be4dcba]{color:silver}.skyblue[data-v-1be4dcba]{color:skyblue}.navy[data-v-1be4dcba]{color:navy}.brown[data-v-1be4dcba]{color:brown}.beige[data-v-1be4dcba]{color:beige}.magenta[data-v-1be4dcba]{color:#f0f}.c0[data-v-1be4dcba]{color:#000}.c1[data-v-1be4dcba]{color:#111}.c2[data-v-1be4dcba]{color:#222}.c3[data-v-1be4dcba]{color:#333}.c4[data-v-1be4dcba]{color:#444}.c5[data-v-1be4dcba]{color:#555}.c6[data-v-1be4dcba]{color:#666}.c7[data-v-1be4dcba]{color:#777}.c8[data-v-1be4dcba]{color:#888}.c9[data-v-1be4dcba]{color:#999}.c10[data-v-1be4dcba]{color:#aaa}.c11[data-v-1be4dcba]{color:#bbb}.c12[data-v-1be4dcba]{color:#ccc}.c13[data-v-1be4dcba]{color:#ddd}.c14[data-v-1be4dcba]{color:#eee}.c15[data-v-1be4dcba]{color:#fff}.porange[data-v-1be4dcba]{color:#fc9}.pgold[data-v-1be4dcba]{color:#ffc}.pazure[data-v-1be4dcba]{color:#cff}.pdgreen[data-v-1be4dcba]{color:#9cc}.ppurple[data-v-1be4dcba]{color:#ccf}.pblue[data-v-1be4dcba]{color:#09c}.plblue[data-v-1be4dcba]{color:#9cf}.pdblue[data-v-1be4dcba]{color:#369}.pgreen[data-v-1be4dcba]{color:#9c3}.solution__main[data-v-1be4dcba]{position:relative;background:#fff;color:#111;margin-right:250px;min-height:6rem;padding:0.2rem;text-align:left}.solution__main h1[data-v-1be4dcba]{font-size:24px;margin-bottom:0.1rem}.solution__main .solution__section[data-v-1be4dcba]{color:#444;border-top:1px solid #eee;padding:0.1rem 0 0.2rem 0;font-size:20px}.solution__siderbar[data-v-1be4dcba]{text-align:left;min-height:600px;width:240px;background:#fff;box-sizing:border-box;padding:0.1rem;position:relative}.solution__siderbar ul li[data-v-1be4dcba]{margin-top:20px}.solution__siderbar ul .userinfo__wrapper img[data-v-1be4dcba]{width:80px;height:80px;border-radius:40px}\\n\",\"\"])},593:function(t,o,a){\"use strict\";a.r(o);a(171);var e=a(6),s=a(92),i=a(16),l=(a(47),a(26)),n={components:{CodeMirror:s.a},data:()=>({solution:{problem:{},user:{}},langList:[],rules:{},seeable:!1,resultList:[],timer:0}),mounted(){this.resultList=l.b,this.langList=l.a,this.init()},methods:{async init(){const t=this;let o=t.$route.params.id;try{let a,s,i=(a=await Object(e.n)(o)).data;t.seeable=i.seeable,t.solution=i.solution,t.solution.result<4&&(s=this.$loading({lock:!0,text:\"评测中\",spinner:\"el-icon-loading\",background:\"rgba(0, 0, 0, 0.7)\"}),t.timer=setInterval(async()=>{let i=(a=await Object(e.n)(o)).data;t.seeable=i.seeable,t.solution=i.solution,t.solution.result>=4&&(clearInterval(t.timer),s.close())},2e3)),console.log(t.solution)}catch(o){console.log(o),t.$router.replace({name:\"404Page\"})}},handleSearchTag(t){this.$store.dispatch(\"setTag\",t),this.$router.push({name:\"problemSet\"})},async handleDownloadDataFile(t){try{let o=await Object(i.a)(this.solution.problem.id,this.solution.id,t),a=window.URL.createObjectURL(new Blob([o.data])),e=document.createElement(\"a\");e.style.display=\"none\",e.href=a,e.setAttribute(\"download\",t),document.body.appendChild(e),e.click(),document.body.removeChild(e),window.URL.revokeObjectURL(a)}catch(t){console.log(t)}},async handleToggleSolutionStatus(){const t=this;try{let o=await Object(i.k)(t.solution.id);t.solution.public=!t.solution.public,this.$message({message:o.data.message,type:\"success\"})}catch(t){console.log(t),this.$message({message:t.response.data.message,type:\"err\"})}}},computed:{wrongFileName(){return this.solution.runtime_info.substring(0,this.solution.runtime_info.lastIndexOf(\".\"))},renderWrongInfo(){return this.solution.runtime_info?\"测试样例\"+this.wrongFileName+\"处发生了错误\":\"没有错误信息\"}},beforeDestroy(){this.timer&&clearInterval(this.timer)}},c=(a(435),a(2)),r=Object(c.a)(n,function(){var t=this,o=t.$createElement,a=t._self._c||o;return a(\"div\",{staticClass:\"content\"},[a(\"title\",[t._v(t._s(\"S\"+t.solution.id+\" 评测详情 - AHPUOJ\"))]),a(\"div\",{staticClass:\"content__main\"},[a(\"div\",{staticClass:\"solution__siderbar fr\"},[a(\"ul\",[a(\"li\",{staticClass:\"userinfo__wrapper align__center\"},[a(\"router-link\",{attrs:{to:{name:\"userinfo\",params:{id:t.solution.user.id}}}},[a(\"img\",{attrs:{src:t.imgUrl(t.solution.user.avatar)}})])],1),a(\"li\",{staticClass:\"align__center\"},[a(\"router-link\",{attrs:{to:{name:\"userinfo\",params:{id:t.solution.user.id}}}},[t._v(t._s(t.solution.user.nick))])],1),a(\"li\",[a(\"strong\",[t._v(\"代码\")]),a(\"span\",{staticClass:\"fr\"},[t._v(t._s(t.langList[t.solution.language]+\" \"+t.solution.code_length+\"kb\"))])]),a(\"li\",[a(\"strong\",[t._v(\"提交时间\")]),a(\"span\",{staticClass:\"fr\"},[t._v(t._s(t.solution.in_date))])])])]),a(\"div\",{staticClass:\"solution__main clearfix\"},[a(\"h1\",{staticClass:\"content__panel__title\",staticStyle:{\"padding-left\":\"0\"}},[t._v(\"评测详情\")]),a(\"div\",{staticClass:\"solution__section\"},[a(\"h3\",[t._v(\"问题\"),a(\"p\",[0==t.solution.contest_id?a(\"router-link\",{attrs:{to:{name:\"problem\",params:{id:t.solution.problem.id}}}},[t._v(t._s(\"P\"+t.solution.problem.id+\"  \"+t.solution.problem.title))]):a(\"router-link\",{attrs:{to:{name:\"contestProblem\",params:{id:t.solution.contest_id,num:t.solution.num}}}},[t._v(t._s(\"C\"+t.solution.contest_id+\"  \"+t.engNum(t.solution.num)+\" \"+t.solution.problem.title))])],1)])]),a(\"div\",{staticClass:\"solution__section\"},[a(\"h3\",[t._v(\"结果\")]),a(\"p\",[t._v(t._s(t.resultList[t.solution.result]?t.resultList[t.solution.result].name:\"\"))])]),a(\"div\",{staticClass:\"solution__section\"},[a(\"h3\",[t._v(\"运行信息\")]),a(\"p\",[t._v(t._s(\"用时\"+t.solution.time+\"ms \\\\ 内存\"+t.solution.memory+\"kb\"))])]),a(\"div\",{staticClass:\"solution__section\"},[a(\"h3\",[t._v(\"编译信息\")]),a(\"p\",[t._v(t._s(t.solution.compile_info?t.solution.compile_info:\"没有编译信息\"))])]),a(\"div\",{staticClass:\"solution__section\"},[a(\"h3\",[t._v(\"错误信息\")]),a(\"p\",[t._v(t._s(t.renderWrongInfo))])]),t.solution.runtime_info&&t.$store.getters.userId==t.solution.user.id&&0==t.solution.contest_id?[a(\"div\",{staticClass:\"solution__section\"},[a(\"h3\",[t._v(\"测试点数据下载\")]),a(\"el-button\",{attrs:{size:\"mini\",type:\"success\"},on:{click:function(o){return t.handleDownloadDataFile(t.wrongFileName+\".in\")}}},[t._v(t._s(t.wrongFileName+\".in\"))]),a(\"el-button\",{attrs:{size:\"mini\",type:\"success\"},on:{click:function(o){return t.handleDownloadDataFile(t.wrongFileName+\".out\")}}},[t._v(t._s(t.wrongFileName+\".out\"))])],1)]:t._e(),0==t.solution.contest_id&&4==t.solution.result&&t.$store.getters.userId==t.solution.user.id?a(\"div\",{staticClass:\"solution__section\"},[a(\"h3\",[t._v(\"公开代码\")]),a(\"p\",[t._v(\"公开你的源码，用你的智慧帮助其他的人解决问题！\")]),a(\"p\",{staticClass:\"mt10\"},[t._v(\"当前状态 \"),a(\"span\",{staticClass:\"text-button\",class:[0==t.solution.public?\"text-button--danger\":\"text-button--success\"]},[t._v(t._s(0==t.solution.public?\"不公开\":\"公开\"))])]),a(\"el-button\",{staticClass:\"mt10\",attrs:{type:1==t.solution.public?\"danger\":\"primary\"},on:{click:t.handleToggleSolutionStatus}},[t._v(t._s(1==t.solution.public?\"隐藏代码\":\"公开代码\"))])],1):t._e(),a(\"div\",{staticClass:\"solution__section\"},[a(\"h3\",[t._v(\"代码\")]),t.seeable?a(\"code-mirror\",{attrs:{code:t.solution.source,language:t.solution.language,readonly:!0},on:{\"update:code\":function(o){return t.$set(t.solution,\"source\",o)}}}):a(\"p\",[t._v(\"你没有查看这份代码的权限\")])],1)],2)])])},[],!1,null,\"1be4dcba\",null);o.default=r.exports}}]);","extractedComments":[]}
{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{17:function(t,e,i){\"use strict\";i.d(e,\"b\",function(){return r}),i.d(e,\"e\",function(){return n}),i.d(e,\"g\",function(){return o}),i.d(e,\"j\",function(){return l}),i.d(e,\"c\",function(){return m}),i.d(e,\"n\",function(){return s}),i.d(e,\"i\",function(){return u}),i.d(e,\"h\",function(){return c}),i.d(e,\"f\",function(){return d}),i.d(e,\"a\",function(){return p}),i.d(e,\"d\",function(){return f}),i.d(e,\"m\",function(){return b}),i.d(e,\"l\",function(){return g}),i.d(e,\"k\",function(){return h});var a=i(0);function r(t){return Object(a.a)(\"POST\",\"admin/problem\",t)}function n(t,e){return console.log(t,e),Object(a.a)(\"PUT\",`admin/problem/${t}`,e)}function o(t){return Object(a.a)(\"GET\",`admin/problem/${t}`)}function l(t,e,i){return Object(a.a)(\"GET\",\"admin/problems\",{page:t,perpage:e,param:i})}function m(t){return Object(a.a)(\"DELETE\",`admin/problem/${t}`)}function s(t){return Object(a.a)(\"PUT\",`admin/problem/${t}/status`)}function u(t){return Object(a.a)(\"GET\",`admin/problem/${t}/datas`)}function c(t,e){return Object(a.a)(\"GET\",`admin/problem/${t}/data/${e}`)}function d(t,e,i){return Object(a.a)(\"PUT\",`admin/problem/${t}/data/${e}`,i)}function p(t,e){return Object(a.a)(\"POST\",`admin/problem/${t}/data`,e)}function f(t,e){return Object(a.a)(\"DELETE\",`admin/problem/${t}/data/${e}`)}function b(t){return Object(a.a)(\"PUT\",`admin/solution/${t}/judgestatus`)}function g(t){return Object(a.a)(\"PUT\",`admin/problem/${t}/judgestatus`)}function h(t,e){return Object(a.a)(\"PUT\",`admin/problem/${t}/movement/${e}`)}},368:function(t,e,i){\"use strict\";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"admin-content\"},[i(\"div\",{staticClass:\"content__breadcrumb\"},[i(\"el-breadcrumb\",{attrs:{separator:\"/\"}},[i(\"el-breadcrumb-item\",{attrs:{to:{name:\"adminIndex\"}}},[t._v(\"首页\")]),i(\"el-breadcrumb-item\",[t._v(t._s(t.$route.meta.title))])],1)],1),i(\"div\",{staticClass:\"content__main\"},[i(\"el-form\",{ref:\"form\",attrs:{model:t.form,rules:t.rules,\"label-width\":\"6em\"}},[i(\"el-form-item\",{attrs:{label:\"标题\",prop:\"title\"}},[i(\"el-input\",{attrs:{placeholder:\"请输入标题\",autofocus:!0},model:{value:t.form.title,callback:function(e){t.$set(t.form,\"title\",e)},expression:\"form.title\"}})],1),i(\"el-form-item\",{attrs:{label:\"时间限制\",prop:\"time_limit\"}},[i(\"el-input\",{attrs:{placeholder:\"请输入内容\"},model:{value:t.form.time_limit,callback:function(e){t.$set(t.form,\"time_limit\",t._n(e))},expression:\"form.time_limit\"}},[i(\"template\",{slot:\"append\"},[t._v(\"秒\")])],2)],1),i(\"el-form-item\",{attrs:{label:\"内存限制\",prop:\"memory_limit\"}},[i(\"el-input\",{attrs:{placeholder:\"请输入内容\"},model:{value:t.form.memory_limit,callback:function(e){t.$set(t.form,\"memory_limit\",t._n(e))},expression:\"form.memory_limit\"}},[i(\"template\",{slot:\"append\"},[t._v(\"兆字节\")])],2)],1),i(\"el-form-item\",{attrs:{label:\"题目描述\"}},[i(\"tinymce-editor\",{attrs:{height:300},model:{value:t.form.description,callback:function(e){t.$set(t.form,\"description\",e)},expression:\"form.description\"}})],1),i(\"el-form-item\",{attrs:{label:\"输入\"}},[i(\"tinymce-editor\",{attrs:{height:300},model:{value:t.form.input,callback:function(e){t.$set(t.form,\"input\",e)},expression:\"form.input\"}})],1),i(\"el-form-item\",{attrs:{label:\"输出\"}},[i(\"tinymce-editor\",{attrs:{height:300},model:{value:t.form.output,callback:function(e){t.$set(t.form,\"output\",e)},expression:\"form.output\"}})],1),i(\"el-form-item\",{attrs:{label:\"样例输入\"}},[i(\"el-input\",{attrs:{type:\"textarea\",rows:10,resize:\"none\"},model:{value:t.form.sample_input,callback:function(e){t.$set(t.form,\"sample_input\",e)},expression:\"form.sample_input\"}})],1),i(\"el-form-item\",{attrs:{label:\"样例输出\"}},[i(\"el-input\",{attrs:{type:\"textarea\",rows:10,resize:\"none\"},model:{value:t.form.sample_output,callback:function(e){t.$set(t.form,\"sample_output\",e)},expression:\"form.sample_output\"}})],1),i(\"el-form-item\",{attrs:{label:\"提示\"}},[i(\"tinymce-editor\",{attrs:{height:300},model:{value:t.form.hint,callback:function(e){t.$set(t.form,\"hint\",e)},expression:\"form.hint\"}})],1),i(\"el-form-item\",{attrs:{label:\"难度\"}},[i(\"el-select\",{staticStyle:{width:\"100%\"},attrs:{\"default-first-option\":\"\",placeholder:\"请选择题目难度\"},model:{value:t.form.level,callback:function(e){t.$set(t.form,\"level\",e)},expression:\"form.level\"}},[i(\"el-option\",{attrs:{label:\"简单\",value:0}}),i(\"el-option\",{attrs:{label:\"中等\",value:1}}),i(\"el-option\",{attrs:{label:\"困难\",value:2}})],1)],1),i(\"el-form-item\",{attrs:{label:\"标签\"}},[i(\"el-select\",{staticStyle:{width:\"100%\"},attrs:{multiple:\"\",filterable:\"\",\"allow-create\":\"\",\"default-first-option\":\"\",placeholder:\"请选择题目标签\"},model:{value:t.form.tags,callback:function(e){t.$set(t.form,\"tags\",e)},expression:\"form.tags\"}},t._l(t.tags,function(t){return i(\"el-option\",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),i(\"el-form-item\",{staticClass:\"fl\"},[i(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.submit}},[t._v(\"提交\")])],1)],1)],1)])};a._withStripped=!0;var r=i(42),n=i(17),o=i(83),l={components:{TinymceEditor:r.a},data:()=>({tags:[],form:{title:\"\",time_limit:1,memory_limit:128,description:\"\",input:\"\",output:\"\",sample_input:\"\",sample_output:\"\",hint:\"\",spj:0,level:1,tags:[]},rules:{title:[{required:!0,message:\"请输入问题名称\",trigger:\"blur\"},{max:20,message:\"超出长度限制\",trigger:\"blur\"}],time_limit:[{required:!0,message:\"请输入时间限制\",trigger:\"blur\"},{type:\"integer\",min:1,message:\"清输入大于零的整数\",trigger:\"blur\"}],memory_limit:[{required:!0,message:\"请输入时间限制\",trigger:\"blur\"},{type:\"integer\",min:1,message:\"清输入大于零的整数\",trigger:\"blur\"}]}}),async mounted(){this.init()},methods:{async init(){const t=this;let e=await Object(o.d)();if(t.tags=e.data.tags,\"adminEditProblem\"==t.$route.name)try{let e=t.$route.params.id,i=await Object(n.g)(e);Object.assign(t.form,i.data.problem),t.form.tags=[],i.data.problem.tags.forEach((e,i,a)=>{t.form.tags.push(e.id)})}catch(e){console.log(e),t.$router.replace({name:\"admin404Page\"})}else Object.assign(t.form,{title:\"\",time_limit:1,memory_limit:128,description:\"\",input:\"\",output:\"\",sample_input:\"\",sample_output:\"\",hint:\"\",spj:0,tags:[]})},async submit(){const t=this;t.$refs.form.validate(async e=>{if(!e)return t.$message({message:\"表单必填项不能为空\",type:\"error\"}),!1;try{let e;if(console.log(t.form),\"adminAddproblem\"==t.$route.name)e=await Object(n.b)(t.form);else{let i=t.$route.params.id;e=await Object(n.e)(i,t.form)}t.$message({message:e.data.message,type:\"success\"}),t.$router.push({name:\"adminProblemList\"})}catch(e){t.$message({message:e.response.data.message,type:\"error\"})}})}},watch:{$route(t,e){\"adminAddproblem\"!=t.name&&\"adminEditProblem\"!=t.name||this.init()}}},m=i(2),s=Object(m.a)(l,a,[],!1,null,\"2e55b1b8\",null);s.options.__file=\"web-admin/js/pages/problem/index.vue\";e.default=s.exports},42:function(t,e,i){\"use strict\";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"tinymce-editor\",style:{height:t.height+\"px\"}},[i(\"editor\",{attrs:{init:t.init,disabled:t.disabled},on:{onClick:t.onClick},model:{value:t.myValue,callback:function(e){t.myValue=e},expression:\"myValue\"}})],1)};a._withStripped=!0;var r=i(101),n=i.n(r),o=i(102),l=(i(173),i(174),i(175),i(176),i(177),i(178),i(179),i(180),i(181),i(26)),m=i(37),s=i.n(m),u={name:\"tinymce-editor\",components:{Editor:o.a},props:{value:{type:String,default:\"\"},disabled:{type:Boolean,default:!1},plugins:{type:[String,Array],default:\"lists image table wordcount code\"},toolbar:{type:[String,Array],default:\"undo redo |  formatselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | code image  table | removeformat\"},height:{type:Number,default:600}},data(){return{init:{relative_urls:!0,document_base_url:l.c,language_url:\"/static/tinymce/langs/zh_CN.js\",skin_url:\"/static/tinymce/skins/ui/oxide\",content_css:\"/static/tinymce/skins/ui/oxide/content.min.css\",language:\"zh_CN\",height:this.height,resize:!1,plugins:this.plugins,toolbar:this.toolbar,branding:!1,menubar:!1,automatic_uploads:!1,mobile:{theme:\"silver\"},images_upload_handler:(t,e,i)=>{let a;(a=new FormData).append(\"file\",t.blob(),t.filename());s.a.post(\"/api/admin/image\",a,{headers:{\"Content-Type\":\"multipart/form-data\",Authorization:\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NjAzNjg1NDQsInVzZXIiOiJhZG1pbiJ9.7K5BCDoodn10AH4Gwe_yDUDBSLWXnG-ogVFoGycQ7WU\"}}).then(t=>{e(t.data.url)}).catch(t=>{})}},myValue:this.value}},mounted(){},methods:{onClick(t){this.$emit(\"onClick\",t,n.a)},clear(){this.myValue=\"\"}},watch:{value(t){this.myValue=t},myValue(t){this.$emit(\"input\",t)}}},c=i(2),d=Object(c.a)(u,a,[],!1,null,\"393b9879\",null);d.options.__file=\"web-common/components/tinymce_editor.vue\";e.a=d.exports},83:function(t,e,i){\"use strict\";i.d(e,\"a\",function(){return r}),i.d(e,\"c\",function(){return n}),i.d(e,\"e\",function(){return o}),i.d(e,\"d\",function(){return l}),i.d(e,\"b\",function(){return m});var a=i(0);function r(t){return Object(a.a)(\"POST\",\"admin/tag\",t)}function n(t,e){return Object(a.a)(\"PUT\",`admin/tag/${t}`,e)}function o(t,e,i){return Object(a.a)(\"GET\",\"admin/tags\",{page:t,perpage:e,param:i})}function l(){return Object(a.a)(\"GET\",\"admin/alltags\")}function m(t){return Object(a.a)(\"DELETE\",`admin/tag/${t}`)}}}]);","extractedComments":[]}
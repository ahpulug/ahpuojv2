{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{156:function(e,t,n){var a=n(415);\"string\"==typeof a&&(a=[[e.i,a,\"\"]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(8)(a,r);a.locals&&(e.exports=a.locals)},414:function(e,t,n){\"use strict\";var a=n(156);n.n(a).a},415:function(e,t,n){(e.exports=n(7)(!1)).push([e.i,\".red[data-v-67bf8d9b] {\\n  color: red;\\n}\\n.green[data-v-67bf8d9b] {\\n  color: green;\\n}\\n.blue[data-v-67bf8d9b] {\\n  color: blue;\\n}\\n.black[data-v-67bf8d9b] {\\n  color: black;\\n}\\n.white[data-v-67bf8d9b] {\\n  color: white;\\n}\\n.yellow[data-v-67bf8d9b] {\\n  color: yellow;\\n}\\n.gold[data-v-67bf8d9b] {\\n  color: gold;\\n}\\n.purple[data-v-67bf8d9b] {\\n  color: purple;\\n}\\n.cyan[data-v-67bf8d9b] {\\n  color: cyan;\\n}\\n.orange[data-v-67bf8d9b] {\\n  color: orange;\\n}\\n.orangered[data-v-67bf8d9b] {\\n  color: orangered;\\n}\\n.pink[data-v-67bf8d9b] {\\n  color: pink;\\n}\\n.violet[data-v-67bf8d9b] {\\n  color: violet;\\n}\\n.yellowgreen[data-v-67bf8d9b] {\\n  color: yellowgreen;\\n}\\n.tomato[data-v-67bf8d9b] {\\n  color: tomato;\\n}\\n.tan[data-v-67bf8d9b] {\\n  color: tan;\\n}\\n.snow[data-v-67bf8d9b] {\\n  color: snow;\\n}\\n.gray[data-v-67bf8d9b] {\\n  color: gray;\\n}\\n.silver[data-v-67bf8d9b] {\\n  color: silver;\\n}\\n.skyblue[data-v-67bf8d9b] {\\n  color: skyblue;\\n}\\n.navy[data-v-67bf8d9b] {\\n  color: navy;\\n}\\n.brown[data-v-67bf8d9b] {\\n  color: brown;\\n}\\n.beige[data-v-67bf8d9b] {\\n  color: beige;\\n}\\n.magenta[data-v-67bf8d9b] {\\n  color: magenta;\\n}\\n.c0[data-v-67bf8d9b] {\\n  color: #000;\\n}\\n.c1[data-v-67bf8d9b] {\\n  color: #111;\\n}\\n.c2[data-v-67bf8d9b] {\\n  color: #222;\\n}\\n.c3[data-v-67bf8d9b] {\\n  color: #333;\\n}\\n.c4[data-v-67bf8d9b] {\\n  color: #444;\\n}\\n.c5[data-v-67bf8d9b] {\\n  color: #555;\\n}\\n.c6[data-v-67bf8d9b] {\\n  color: #666;\\n}\\n.c7[data-v-67bf8d9b] {\\n  color: #777;\\n}\\n.c8[data-v-67bf8d9b] {\\n  color: #888;\\n}\\n.c9[data-v-67bf8d9b] {\\n  color: #999;\\n}\\n.c10[data-v-67bf8d9b] {\\n  color: #aaa;\\n}\\n.c11[data-v-67bf8d9b] {\\n  color: #bbb;\\n}\\n.c12[data-v-67bf8d9b] {\\n  color: #ccc;\\n}\\n.c13[data-v-67bf8d9b] {\\n  color: #ddd;\\n}\\n.c14[data-v-67bf8d9b] {\\n  color: #eee;\\n}\\n.c15[data-v-67bf8d9b] {\\n  color: #fff;\\n}\\n.porange[data-v-67bf8d9b] {\\n  color: #FFCC99;\\n}\\n.pgold[data-v-67bf8d9b] {\\n  color: #FFFFCC;\\n}\\n.pazure[data-v-67bf8d9b] {\\n  color: #CCFFFF;\\n}\\n.pdgreen[data-v-67bf8d9b] {\\n  color: #99CCCC;\\n}\\n.ppurple[data-v-67bf8d9b] {\\n  color: #CCCCFF;\\n}\\n.pblue[data-v-67bf8d9b] {\\n  color: #0099CC;\\n}\\n.plblue[data-v-67bf8d9b] {\\n  color: #99ccff;\\n}\\n.pdblue[data-v-67bf8d9b] {\\n  color: #336699;\\n}\\n.pgreen[data-v-67bf8d9b] {\\n  color: #99CC33;\\n}\\n.issues__wrapper .link[data-v-67bf8d9b] {\\n  font-size: 0.24rem;\\n  line-height: 0.5rem;\\n  padding-right: 0.2rem;\\n}\\n.issues__wrapper h1.content__panel__title[data-v-67bf8d9b] {\\n  background: #fff;\\n}\\n.issues__wrapper .issue__box[data-v-67bf8d9b] {\\n  background: #fff;\\n  position: relative;\\n  margin-top: 0.2rem;\\n  padding: 0.2rem;\\n  border: 1px solid #ddd;\\n}\\n.issues__wrapper .issue__box .issue__userinfo__wrapper[data-v-67bf8d9b] {\\n    text-align: center;\\n    word-wrap: break-word;\\n    word-break: break-all;\\n    float: left;\\n    width: 100px;\\n}\\n.issues__wrapper .issue__box .issue__userinfo__wrapper img[data-v-67bf8d9b] {\\n      width: 60px;\\n      height: 60px;\\n      border-radius: 30px;\\n      border: 1px solid #ccc;\\n      box-shadow: 1px 1px 1px 1px #ccc;\\n}\\n.issues__wrapper .issue__box[data-v-67bf8d9b]:last-child {\\n    border-bottom: 1px solid #ddd;\\n}\\n.issues__wrapper .issue__box .issue__content[data-v-67bf8d9b] {\\n    box-sizing: border-box;\\n    padding: 0.2rem 0 0 0.2rem;\\n    margin-left: 100px;\\n    min-height: 80px;\\n    text-align: left;\\n    font-size: 0.16rem;\\n}\\n.issues__wrapper .issue__box .issue__content a[data-v-67bf8d9b] {\\n      font-size: 24px;\\n}\\n.issues__wrapper .issue__box .issue__addon[data-v-67bf8d9b] {\\n    position: absolute;\\n    bottom: 10px;\\n    right: 10px;\\n}\\n.issues__wrapper .issue__box .issue__addon a[data-v-67bf8d9b] {\\n      font-size: 0.16rem;\\n}\\n.issues__wrapper .post__box__wrapper[data-v-67bf8d9b] {\\n  min-height: 100px;\\n  text-align: left;\\n  background: #fff;\\n  padding: 0.2rem;\\n}\\n\",\"\"])},42:function(e,t,n){\"use strict\";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"tinymce-editor\",style:{height:e.height+\"px\"}},[n(\"editor\",{attrs:{init:e.init,disabled:e.disabled},on:{onClick:e.onClick},model:{value:e.myValue,callback:function(t){e.myValue=t},expression:\"myValue\"}})],1)};a._withStripped=!0;var r=n(101),o=n.n(r),s=n(102),i=(n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(26)),l=n(37),d=n.n(l),c={name:\"tinymce-editor\",components:{Editor:s.a},props:{value:{type:String,default:\"\"},disabled:{type:Boolean,default:!1},plugins:{type:[String,Array],default:\"lists image table wordcount code\"},toolbar:{type:[String,Array],default:\"undo redo |  formatselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | code image  table | removeformat\"},height:{type:Number,default:600}},data(){return{init:{relative_urls:!0,document_base_url:i.c,language_url:\"/static/tinymce/langs/zh_CN.js\",skin_url:\"/static/tinymce/skins/ui/oxide\",content_css:\"/static/tinymce/skins/ui/oxide/content.min.css\",language:\"zh_CN\",height:this.height,resize:!1,plugins:this.plugins,toolbar:this.toolbar,branding:!1,menubar:!1,automatic_uploads:!1,mobile:{theme:\"silver\"},images_upload_handler:(e,t,n)=>{let a;(a=new FormData).append(\"file\",e.blob(),e.filename());d.a.post(\"/api/admin/image\",a,{headers:{\"Content-Type\":\"multipart/form-data\",Authorization:\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NjAzNjg1NDQsInVzZXIiOiJhZG1pbiJ9.7K5BCDoodn10AH4Gwe_yDUDBSLWXnG-ogVFoGycQ7WU\"}}).then(e=>{t(e.data.url)}).catch(e=>{})}},myValue:this.value}},mounted(){},methods:{onClick(e){this.$emit(\"onClick\",e,o.a)},clear(){this.myValue=\"\"}},watch:{value(e){this.myValue=e},myValue(e){this.$emit(\"input\",e)}}},u=n(2),b=Object(u.a)(c,a,[],!1,null,\"393b9879\",null);b.options.__file=\"web-common/components/tinymce_editor.vue\";t.a=b.exports},47:function(e,t,n){\"use strict\";n.d(t,\"a\",function(){return a});const a=new(n(5).default)},584:function(e,t,n){\"use strict\";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"content\"},[n(\"div\",{staticClass:\"content__main\"},[n(\"div\",{staticClass:\"issues__wrapper\"},[n(\"div\",{staticClass:\"link fr\"},[\"problemIssueList\"==e.$route.name?n(\"router-link\",{attrs:{to:{name:\"problem\",params:{id:e.$route.params.id}}}},[e._v(e._s(\"转到问题\"))]):e._e()],1),n(\"h1\",{staticClass:\"content__panel__title\"},[e._v(e._s(\"issueList\"==e.$route.name?\"讨论版 总版\":\"问题P\"+e.$route.params.id+\"的讨论版\"))]),e._l(e.data,function(t){return[n(\"div\",{staticClass:\"issue__box\"},[n(\"div\",{staticClass:\"issue__userinfo__wrapper\"},[n(\"ul\",[n(\"li\",{staticClass:\"issue__user__avatar\"},[n(\"router-link\",{attrs:{to:{name:\"userinfo\",params:{id:t.user.id}}}},[n(\"img\",{attrs:{src:e.imgUrl(t.user.avatar)}})])],1),n(\"li\",{staticClass:\"issue__user__name ell\"},[n(\"router-link\",{attrs:{to:{name:\"userinfo\",params:{id:t.user.id}}}},[e._v(e._s(t.user.nick))])],1)])]),n(\"div\",{staticClass:\"issue__content\"},[n(\"router-link\",{attrs:{to:{name:\"issue\",params:{id:t.id}},target:\"_blank\"}},[e._v(e._s(t.title))]),n(\"div\",{staticClass:\"issue__addon tar\"},[t.problem.id>0?n(\"router-link\",{attrs:{to:{name:\"problem\",params:{id:t.problem.id}}}},[e._v(e._s(\"In P\"+t.problem.id+\" \"+t.problem.title))]):n(\"p\",[e._v(\"总版\")]),n(\"p\",[e._v(e._s(t.reply_count)+\"个回复 最后回复时间 \"+e._s(t.updated_at))])],1)],1)])]}),n(\"el-pagination\",{staticClass:\"tal\",attrs:{\"current-page\":e.currentPage,background:\"\",\"page-size\":e.perpage,layout:\"prev, pager, next,jumper\",total:e.total},on:{\"current-change\":e.fetchIssueList,\"update:currentPage\":function(t){e.currentPage=t},\"update:current-page\":function(t){e.currentPage=t}}}),n(\"h1\",{staticClass:\"content__panel__title\"},[e._v(\"发表新讨论\")]),n(\"div\",{staticClass:\"post__box__wrapper\"},[e.$store.getters.username?n(\"div\",{staticClass:\"post__box\"},[n(\"el-input\",{attrs:{placeholder:\"请输入讨论标题\",autofocus:!0},model:{value:e.issueForm.title,callback:function(t){e.$set(e.issueForm,\"title\",t)},expression:\"issueForm.title\"}}),n(\"tinymce-editor\",{staticClass:\"mt10\",attrs:{height:300},model:{value:e.replyForm.content,callback:function(t){e.$set(e.replyForm,\"content\",t)},expression:\"replyForm.content\"}}),n(\"el-button\",{staticClass:\"mt10\",attrs:{type:\"primary\"},on:{click:e.postIssue}},[e._v(\"发表\")])],1):n(\"a\",{on:{click:e.goLogin}},[e._v(\"请登陆后发表讨论\")])])],2)])])};a._withStripped=!0;var r=n(6),o=n(42),s=n(47),i=n(16),l={components:{TinymceEditor:o.a},name:\"\",data:()=>({currentPage:1,perpage:20,problemId:0,data:[],total:0,issueForm:{title:\"\",problem_id:0},active:!1,replyForm:{content:\"\",reply_id:0,reply_user_id:0}}),mounted(){this.fetchIssueList()},methods:{async fetchIssueList(){window.pageYOffset=0,document.documentElement.scrollTop=0,document.body.scrollTop=0;const e=this;\"issueList\"==e.$route.name?e.problemId=0:e.problemId=e.$route.params.id;try{let t=await Object(r.h)(e.problemId,e.currentPage,e.perpage);console.log(t);let n=t.data;e.data=n.data,e.total=n.total}catch(e){console.log(e)}},goLogin(){s.a.$emit(\"goLogin\")},async postIssue(){const e=this;if(\"\"!=e.issueForm.title)if(e.issueForm.title.length>20)this.$message({message:\"标题长度限制在20个字符以内\",type:\"error\"});else if(\"\"!=e.replyForm.content)try{let t;\"problemIssueList\"==e.$route.name?e.issueForm.problem_id=parseInt(e.$route.params.id):e.issueForm.problem_id=0;let n=(t=await Object(i.f)(e.issueForm)).data.issue.id;t=await Object(i.g)(n,e.replyForm),e.$message({message:\"发布讨论主题成功\",type:\"success\"}),e.issueForm.title=\"\",e.replyForm.content=\"\",e.fetchIssueList()}catch(t){e.$message({message:t.response.data.message,type:\"error\"})}else this.$message({message:\"内容不能为空\",type:\"error\"});else this.$message({message:\"标题不能为空\",type:\"error\"})}}},d=(n(414),n(2)),c=Object(d.a)(l,a,[],!1,null,\"67bf8d9b\",null);c.options.__file=\"web-user/js/pages/issue_list/index.vue\";t.default=c.exports},6:function(e,t,n){\"use strict\";n.d(t,\"i\",function(){return r}),n.d(t,\"m\",function(){return o}),n.d(t,\"j\",function(){return s}),n.d(t,\"h\",function(){return i}),n.d(t,\"g\",function(){return l}),n.d(t,\"k\",function(){return d}),n.d(t,\"l\",function(){return c}),n.d(t,\"n\",function(){return u}),n.d(t,\"o\",function(){return b}),n.d(t,\"c\",function(){return p}),n.d(t,\"b\",function(){return f}),n.d(t,\"e\",function(){return m}),n.d(t,\"f\",function(){return _}),n.d(t,\"d\",function(){return g}),n.d(t,\"a\",function(){return v});var a=n(0);function r(){return Object(a.a)(\"GET\",\"languages\")}function o(e,t){return Object(a.a)(\"GET\",\"ranklist\",{page:e,perpage:t})}function s(e,t){return Object(a.a)(\"GET\",\"news\",{page:e,perpage:t})}function i(e,t,n){return Object(a.a)(\"GET\",`problem/${e}/issues`,{page:t,perpage:n})}function l(e,t,n){return Object(a.a)(\"GET\",`/issue/${e}`,{page:t,perpage:n})}function d(e){return Object(a.a)(\"GET\",`problem/${e}`)}function c(e,t,n,r,o){return Object(a.a)(\"GET\",\"problems\",{page:e,perpage:t,param:n,level:r,tag_id:o})}function u(e){return Object(a.a)(\"GET\",`solution/${e}`)}function b(e,t,n,r,o,s,i){return Object(a.a)(\"GET\",\"solutions\",{page:e,perpage:t,param:n,username:r,language:o,result:s,contest_id:i})}function p(e,t,n){return Object(a.a)(\"GET\",\"contests\",{page:e,perpage:t,param:n})}function f(e){return Object(a.a)(\"GET\",`contest/${e}`)}function m(e){return Object(a.a)(\"GET\",`contest/${e}/ranklist`)}function _(e){return Object(a.a)(\"GET\",`contest/${e}/teamranklist`)}function g(e,t){return Object(a.a)(\"GET\",`contest/${e}/problem/${t}`)}function v(){return Object(a.a)(\"GET\",\"alltags\")}}}]);","extractedComments":[]}
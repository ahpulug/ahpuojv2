(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{15:function(t,o,e){"use strict";e.d(o,"i",function(){return r}),e.d(o,"m",function(){return a}),e.d(o,"j",function(){return c}),e.d(o,"h",function(){return i}),e.d(o,"g",function(){return s}),e.d(o,"k",function(){return l}),e.d(o,"l",function(){return u}),e.d(o,"n",function(){return d}),e.d(o,"o",function(){return p}),e.d(o,"c",function(){return b}),e.d(o,"b",function(){return g}),e.d(o,"e",function(){return f}),e.d(o,"f",function(){return v}),e.d(o,"d",function(){return m}),e.d(o,"a",function(){return _});var n=e(1);function r(){return Object(n.a)("GET","languages")}function a(t,o){return Object(n.a)("GET","ranklist",{page:t,perpage:o})}function c(t,o){return Object(n.a)("GET","news",{page:t,perpage:o})}function i(t,o,e){return Object(n.a)("GET","problem/".concat(t,"/issues"),{page:o,perpage:e})}function s(t,o,e){return Object(n.a)("GET","/issue/".concat(t),{page:o,perpage:e})}function l(t){return Object(n.a)("GET","problem/".concat(t))}function u(t,o,e,r,a){return Object(n.a)("GET","problems",{page:t,perpage:o,param:e,level:r,tag_id:a})}function d(t){return Object(n.a)("GET","solution/".concat(t))}function p(t,o,e,r,a,c,i){return Object(n.a)("GET","solutions",{page:t,perpage:o,param:e,username:r,language:a,result:c,contest_id:i})}function b(t,o,e){return Object(n.a)("GET","contests",{page:t,perpage:o,param:e})}function g(t){return Object(n.a)("GET","contest/".concat(t))}function f(t){return Object(n.a)("GET","contest/".concat(t,"/ranklist"))}function v(t){return Object(n.a)("GET","contest/".concat(t,"/teamranklist"))}function m(t,o){return Object(n.a)("GET","contest/".concat(t,"/problem/").concat(o))}function _(){return Object(n.a)("GET","alltags")}},169:function(t,o,e){"use strict";e(175),e(167),e(7),e(583),e(584),e(85),e(562),e(585),e(586),e(587),e(588),e(589),e(590),e(165),e(563),e(564),e(591),e(565),e(592),e(566),e(593),e(594),e(595),e(596),e(597),e(598),e(567),e(599),e(600),e(601),e(602);var n={props:{code:{type:String,default:""},language:{type:Number,default:1},readonly:{default:!1}},data:function(){return{map:new Map([[0,"text/x-csrc"],[1,"text/x-c++src"],[3,"text/x-java"],[6,"text/x-python"],[17,"text/x-go"]]),cmOptions:{tabSize:4,styleActiveLine:!1,lineNumbers:!0,styleSelectedText:!1,autoCloseBrackets:!0,line:!0,foldGutter:!0,readOnly:!1,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],highlightSelectionMatches:{showToken:/\w/,annotateScrollbar:!0},mode:"text/x-csrc",keyMap:"sublime",matchBrackets:!0,showCursorWhenSelecting:!0,theme:"monokai",extraKeys:{Ctrl:"autocomplete"}},mycode:this.code}},methods:{onCmCodeChange:function(t,o){this.$emit("update:code",t)}},mounted:function(){var t=this;t.cmOptions.readOnly=t.readonly,setTimeout(function(){t.styleSelectedText=!0,t.styleActiveLine=!0},1800)},watch:{language:function(){this.cmOptions.mode=this.map.get(this.language)}}},r=(e(580),e(2)),a=Object(r.a)(n,function(){var t=this,o=t.$createElement;return(t._self._c||o)("codemirror",{attrs:{options:t.cmOptions},on:{input:t.onCmCodeChange},model:{value:t.mycode,callback:function(o){t.mycode=o},expression:"mycode"}})},[],!1,null,null,null);o.a=a.exports},272:function(t,o,e){var n=e(581);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e(14)(n,r);n.locals&&(t.exports=n.locals)},295:function(t,o,e){var n=e(655);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e(14)(n,r);n.locals&&(t.exports=n.locals)},580:function(t,o,e){"use strict";var n=e(272);e.n(n).a},581:function(t,o,e){(t.exports=e(13)(!1)).push([t.i,".red{color:red}.green{color:green}.blue{color:blue}.black{color:#000}.white{color:#fff}.yellow{color:#ff0}.gold{color:gold}.purple{color:purple}.cyan{color:cyan}.orange{color:orange}.orangered{color:#ff4500}.pink{color:pink}.violet{color:violet}.yellowgreen{color:#9acd32}.tomato{color:tomato}.tan{color:tan}.snow{color:snow}.gray{color:gray}.silver{color:silver}.skyblue{color:skyblue}.navy{color:navy}.brown{color:brown}.beige{color:beige}.magenta{color:#f0f}.c0{color:#000}.c1{color:#111}.c2{color:#222}.c3{color:#333}.c4{color:#444}.c5{color:#555}.c6{color:#666}.c7{color:#777}.c8{color:#888}.c9{color:#999}.c10{color:#aaa}.c11{color:#bbb}.c12{color:#ccc}.c13{color:#ddd}.c14{color:#eee}.c15{color:#fff}.porange{color:#fc9}.pgold{color:#ffc}.pazure{color:#cff}.pdgreen{color:#9cc}.ppurple{color:#ccf}.pblue{color:#09c}.plblue{color:#9cf}.pdblue{color:#369}.pgreen{color:#9c3}.CodeMirror-focused .cm-matchhighlight{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAYAAABytg0kAAAAFklEQVQI12NgYGBgkKzc8x9CMDAwAAAmhwSbidEoSQAAAABJRU5ErkJggg==);background-position:bottom;background-repeat:repeat-x}.cm-matchhighlight{background-color:rgba(173,216,230,0.4)}.CodeMirror-selection-highlight-scrollbar{background-color:green}.CodeMirror{line-height:20px;height:550px}.CodeMirror-sizer{margin-left:50px !important}\n",""])},654:function(t,o,e){"use strict";var n=e(295);e.n(n).a},655:function(t,o,e){(t.exports=e(13)(!1)).push([t.i,".red[data-v-8c883b0a]{color:red}.green[data-v-8c883b0a]{color:green}.blue[data-v-8c883b0a]{color:blue}.black[data-v-8c883b0a]{color:#000}.white[data-v-8c883b0a]{color:#fff}.yellow[data-v-8c883b0a]{color:#ff0}.gold[data-v-8c883b0a]{color:gold}.purple[data-v-8c883b0a]{color:purple}.cyan[data-v-8c883b0a]{color:cyan}.orange[data-v-8c883b0a]{color:orange}.orangered[data-v-8c883b0a]{color:#ff4500}.pink[data-v-8c883b0a]{color:pink}.violet[data-v-8c883b0a]{color:violet}.yellowgreen[data-v-8c883b0a]{color:#9acd32}.tomato[data-v-8c883b0a]{color:tomato}.tan[data-v-8c883b0a]{color:tan}.snow[data-v-8c883b0a]{color:snow}.gray[data-v-8c883b0a]{color:gray}.silver[data-v-8c883b0a]{color:silver}.skyblue[data-v-8c883b0a]{color:skyblue}.navy[data-v-8c883b0a]{color:navy}.brown[data-v-8c883b0a]{color:brown}.beige[data-v-8c883b0a]{color:beige}.magenta[data-v-8c883b0a]{color:#f0f}.c0[data-v-8c883b0a]{color:#000}.c1[data-v-8c883b0a]{color:#111}.c2[data-v-8c883b0a]{color:#222}.c3[data-v-8c883b0a]{color:#333}.c4[data-v-8c883b0a]{color:#444}.c5[data-v-8c883b0a]{color:#555}.c6[data-v-8c883b0a]{color:#666}.c7[data-v-8c883b0a]{color:#777}.c8[data-v-8c883b0a]{color:#888}.c9[data-v-8c883b0a]{color:#999}.c10[data-v-8c883b0a]{color:#aaa}.c11[data-v-8c883b0a]{color:#bbb}.c12[data-v-8c883b0a]{color:#ccc}.c13[data-v-8c883b0a]{color:#ddd}.c14[data-v-8c883b0a]{color:#eee}.c15[data-v-8c883b0a]{color:#fff}.porange[data-v-8c883b0a]{color:#fc9}.pgold[data-v-8c883b0a]{color:#ffc}.pazure[data-v-8c883b0a]{color:#cff}.pdgreen[data-v-8c883b0a]{color:#9cc}.ppurple[data-v-8c883b0a]{color:#ccf}.pblue[data-v-8c883b0a]{color:#09c}.plblue[data-v-8c883b0a]{color:#9cf}.pdblue[data-v-8c883b0a]{color:#369}.pgreen[data-v-8c883b0a]{color:#9c3}.solution__main[data-v-8c883b0a]{position:relative;background:#fff;color:#111;margin-right:250px;min-height:6rem;padding:0.2rem;text-align:left}.solution__main h1[data-v-8c883b0a]{font-size:24px;margin-bottom:0.1rem}.solution__main .solution__section[data-v-8c883b0a]{color:#444;border-top:1px solid #eee;padding:0.1rem 0 0.2rem 0;font-size:20px}.solution__siderbar[data-v-8c883b0a]{text-align:left;min-height:600px;width:240px;background:#fff;box-sizing:border-box;padding:0.1rem;position:relative}.solution__siderbar ul li[data-v-8c883b0a]{margin-top:20px}.solution__siderbar ul .userinfo__wrapper img[data-v-8c883b0a]{width:80px;height:80px;border-radius:40px}\n",""])},700:function(t,o,e){"use strict";e.r(o);e(10),e(7),e(33),e(11),e(300);var n=e(15),r=e(169),a=e(30),c=(e(87),e(50));function i(t,o,e,n,r,a,c){try{var i=t[a](c),s=i.value}catch(t){return void e(t)}i.done?o(s):Promise.resolve(s).then(n,r)}function s(t){return function(){var o=this,e=arguments;return new Promise(function(n,r){var a=t.apply(o,e);function c(t){i(a,n,r,c,s,"next",t)}function s(t){i(a,n,r,c,s,"throw",t)}c(void 0)})}}var l={components:{CodeMirror:r.a},data:function(){return{solution:null,langList:[],seeable:!1,resultList:[],timer:0}},mounted:function(){this.resultList=c.b,this.langList=c.a,this.init()},methods:{init:function(){var t=s(regeneratorRuntime.mark(function t(){var o,e,r,a,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=(o=this).$route.params.id,t.prev=2,t.next=5,Object(n.n)(e);case 5:r=t.sent,a=r.data,o.seeable=a.seeable,o.solution=a.solution,o.solution.result<4&&(c=this.$loading({lock:!0,text:"评测中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),o.timer=setInterval(s(regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(n.n)(e);case 2:r=t.sent,a=r.data,o.seeable=a.seeable,o.solution=a.solution,o.solution.result>=4&&(clearInterval(o.timer),c.close());case 7:case"end":return t.stop()}},t)})),2e3)),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(2),o.$router.replace({name:"404Page"});case 17:case"end":return t.stop()}},t,this,[[2,13]])}));return function(){return t.apply(this,arguments)}}(),handleSearchTag:function(t){this.$store.dispatch("setTag",t),this.$router.push({name:"problemSet"})},handleDownloadDataFile:function(){var t=s(regeneratorRuntime.mark(function t(o){var e,n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(a.a)(this.solution.problem.id,this.solution.id,o);case 3:e=t.sent,n=window.URL.createObjectURL(new Blob([e.data])),(r=document.createElement("a")).style.display="none",r.href=n,r.setAttribute("download",o),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0);case 18:case"end":return t.stop()}},t,this,[[0,15]])}));return function(o){return t.apply(this,arguments)}}(),handleToggleSolutionStatus:function(){var t=s(regeneratorRuntime.mark(function t(){var o,e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=this,t.prev=1,t.next=4,Object(a.k)(o.solution.id);case 4:e=t.sent,o.solution.public=!o.solution.public,this.$message({message:e.data.message,type:"success"}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),this.$message({message:t.t0.response.data.message,type:"err"});case 13:case"end":return t.stop()}},t,this,[[1,9]])}));return function(){return t.apply(this,arguments)}}()},computed:{wrongFileName:function(){return this.solution.runtime_info.substring(0,this.solution.runtime_info.lastIndexOf("."))},renderWrongInfo:function(){return this.solution.runtime_info?this.solution.result>=5&&this.solution.result<=8?"测试样例"+this.wrongFileName+"处发生了错误":solution.runtime_info:"没有错误信息"}},beforeDestroy:function(){this.timer&&clearInterval(this.timer)}},u=(e(654),e(2)),d=Object(u.a)(l,function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"content"},[e("title",[t._v(t._s(t.solution?"S"+t.solution.id+" 评测详情 - AHPUOJ":""))]),e("div",{staticClass:"content__main"},[e("div",{staticClass:"solution__siderbar fr"},[e("ul",[e("li",{staticClass:"userinfo__wrapper align__center"},[e("router-link",{attrs:{to:{name:"userinfo",params:{id:t.solution?t.solution.user.id:0}}}},[e("img",{attrs:{src:t.imgUrl(t.solution?t.solution.user.avatar:"")}})])],1),e("li",{staticClass:"align__center"},[e("router-link",{attrs:{to:{name:"userinfo",params:{id:t.solution?t.solution.user.id:0}}}},[t._v(t._s(t.solution?t.solution.user.nick:""))])],1),e("li",[e("strong",[t._v("代码")]),t.solution?e("span",{staticClass:"fr"},[t._v(t._s(t.langList[t.solution.language]+" "+t.solution.code_length+"kb"))]):t._e()]),e("li",[e("strong",[t._v("提交时间")]),t.solution?e("span",{staticClass:"fr"},[t._v(t._s(t.solution.in_date))]):t._e()])])]),e("div",{staticClass:"solution__main clearfix"},[e("h1",{staticClass:"content__panel__title",staticStyle:{"padding-left":"0"}},[t._v("评测详情")]),e("div",{staticClass:"solution__section"},[e("h3",[t._v("问题"),t.solution?e("p",[0==t.solution.contest_id?e("router-link",{attrs:{to:{name:"problem",params:{id:t.solution.problem.id}}}},[t._v(t._s("P"+t.solution.problem.id+"  "+t.solution.problem.title))]):e("router-link",{attrs:{to:{name:"contestProblem",params:{id:t.solution.contest_id,num:t.solution.num}}}},[t._v(t._s("C"+t.solution.contest_id+"  "+t.engNum(t.solution.num)+" "+t.solution.problem.title))])],1):t._e()])]),e("div",{staticClass:"solution__section"},[e("h3",[t._v("结果")]),t.solution?e("p",[t._v(t._s(t.resultList[t.solution.result]?t.resultList[t.solution.result].name:""))]):t._e()]),e("div",{staticClass:"solution__section"},[e("h3",[t._v("运行信息")]),t.solution?e("p",[t._v(t._s("用时"+t.solution.time+"ms \\ 内存"+t.solution.memory+"kb"))]):t._e()]),e("div",{staticClass:"solution__section"},[e("h3",[t._v("编译信息")]),t.solution?e("p",[t._v(t._s(t.solution.compile_info?t.solution.compile_info:"没有编译信息"))]):t._e()]),e("div",{staticClass:"solution__section"},[e("h3",[t._v("错误信息")]),t.solution?e("p",[t._v(t._s(t.renderWrongInfo))]):t._e()]),t.solution&&t.solution.runtime_info&&t.$store.getters.userId==t.solution.user.id&&0==t.solution.contest_id&&t.solution.result>=5&&t.solution.result<=8?[e("div",{staticClass:"solution__section"},[e("h3",[t._v("测试点数据下载")]),e("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(o){return t.handleDownloadDataFile(t.wrongFileName+".in")}}},[t._v(t._s(t.wrongFileName+".in"))]),e("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(o){return t.handleDownloadDataFile(t.wrongFileName+".out")}}},[t._v(t._s(t.wrongFileName+".out"))])],1)]:t._e(),t.solution&&0==t.solution.contest_id&&4==t.solution.result&&t.$store.getters.userId==t.solution.user.id?e("div",{staticClass:"solution__section"},[e("h3",[t._v("公开代码")]),e("p",[t._v("公开你的源码，用你的智慧帮助其他的人解决问题！")]),e("p",{staticClass:"mt10"},[t._v("当前状态 "),e("span",{staticClass:"text-button",class:[0==t.solution.public?"text-button--danger":"text-button--success"]},[t._v(t._s(0==t.solution.public?"不公开":"公开"))])]),e("el-button",{staticClass:"mt10",attrs:{type:1==t.solution.public?"danger":"primary"},on:{click:t.handleToggleSolutionStatus}},[t._v(t._s(1==t.solution.public?"隐藏代码":"公开代码"))])],1):t._e(),e("div",{staticClass:"solution__section"},[e("h3",[t._v("代码")]),t.seeable?e("code-mirror",{attrs:{code:t.solution.source,language:t.solution.language,readonly:!0},on:{"update:code":function(o){return t.$set(t.solution,"source",o)}}}):e("p",[t._v("你没有查看这份代码的权限")])],1)],2)])])},[],!1,null,"8c883b0a",null);o.default=d.exports},87:function(t,o,e){"use strict";e.d(o,"a",function(){return n});var n=new(e(6).default)}}]);
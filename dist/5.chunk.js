(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{159:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"c",function(){return i}),n.d(e,"e",function(){return o}),n.d(e,"d",function(){return c}),n.d(e,"b",function(){return u});var r=n(1);function a(t){return Object(r.a)("POST","admin/tag",t)}function i(t,e){return Object(r.a)("PUT","admin/tag/".concat(t),e)}function o(t,e,n){return Object(r.a)("GET","admin/tags",{page:t,perpage:e,param:n})}function c(){return Object(r.a)("GET","admin/alltags")}function u(t){return Object(r.a)("DELETE","admin/tag/".concat(t))}},163:function(t,e,n){"use strict";var r,a,i=n(171),o=RegExp.prototype.exec,c=String.prototype.replace,u=o,l=(r=/a/,a=/b*/g,o.call(r,"a"),o.call(a,"a"),0!==r.lastIndex||0!==a.lastIndex),s=void 0!==/()??/.exec("")[1];(l||s)&&(u=function(t){var e,n,r,a,u=this;return s&&(n=new RegExp("^"+u.source+"$(?!\\s)",i.call(u))),l&&(e=u.lastIndex),r=o.call(u,t),l&&r&&(u.lastIndex=u.global?r.index+r[0].length:e),s&&r&&r.length>1&&c.call(r[0],n,function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(r[a]=void 0)}),r}),t.exports=u},171:function(t,e,n){"use strict";var r=n(26);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},264:function(t,e,n){"use strict";var r=n(265)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},265:function(t,e,n){var r=n(70),a=n(46);t.exports=function(t){return function(e,n){var i,o,c=String(a(e)),u=r(n),l=c.length;return u<0||u>=l?t?"":void 0:(i=c.charCodeAt(u))<55296||i>56319||u+1===l||(o=c.charCodeAt(u+1))<56320||o>57343?t?c.charAt(u):i:t?c.slice(u,u+2):o-56320+(i-55296<<10)+65536}}},266:function(t,e,n){"use strict";var r=n(90),a=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},267:function(t,e,n){"use strict";n(306);var r=n(37),a=n(47),i=n(44),o=n(46),c=n(19),u=n(163),l=c("species"),s=!i(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),m=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var f=c(t),p=!i(function(){var e={};return e[f]=function(){return 7},7!=""[t](e)}),d=p?!i(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[l]=function(){return n}),n[f](""),!e}):void 0;if(!p||!d||"replace"===t&&!s||"split"===t&&!m){var b=/./[f],g=n(o,f,""[t],function(t,e,n,r,a){return e.exec===u?p&&!a?{done:!0,value:b.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),v=g[0],h=g[1];r(String.prototype,t,v),a(RegExp.prototype,f,2==e?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)})}}},306:function(t,e,n){"use strict";var r=n(163);n(54)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},309:function(t,e,n){var r=n(54);r(r.S+r.F,"Object",{assign:n(578)})},32:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"e",function(){return i}),n.d(e,"g",function(){return o}),n.d(e,"j",function(){return c}),n.d(e,"c",function(){return u}),n.d(e,"n",function(){return l}),n.d(e,"i",function(){return s}),n.d(e,"h",function(){return m}),n.d(e,"f",function(){return f}),n.d(e,"a",function(){return p}),n.d(e,"d",function(){return d}),n.d(e,"m",function(){return b}),n.d(e,"l",function(){return g}),n.d(e,"k",function(){return v});var r=n(1);function a(t){return Object(r.a)("POST","admin/problem",t)}function i(t,e){return Object(r.a)("PUT","admin/problem/".concat(t),e)}function o(t){return Object(r.a)("GET","admin/problem/".concat(t))}function c(t,e,n){return Object(r.a)("GET","admin/problems",{page:t,perpage:e,param:n})}function u(t){return Object(r.a)("DELETE","admin/problem/".concat(t))}function l(t){return Object(r.a)("PUT","admin/problem/".concat(t,"/status"))}function s(t){return Object(r.a)("GET","admin/problem/".concat(t,"/datas"))}function m(t,e){return Object(r.a)("GET","admin/problem/".concat(t,"/data/").concat(e))}function f(t,e,n){return Object(r.a)("PUT","admin/problem/".concat(t,"/data/").concat(e),n)}function p(t,e){return Object(r.a)("POST","admin/problem/".concat(t,"/data"),e)}function d(t,e){return Object(r.a)("DELETE","admin/problem/".concat(t,"/data/").concat(e))}function b(t){return Object(r.a)("PUT","admin/solution/".concat(t,"/judgestatus"))}function g(t){return Object(r.a)("PUT","admin/problem/".concat(t,"/judgestatus"))}function v(t,e){return Object(r.a)("PUT","admin/problem/".concat(t,"/movement/").concat(e))}},33:function(t,e,n){"use strict";var r=n(26),a=n(164),i=n(86),o=n(70),c=n(264),u=n(266),l=Math.max,s=Math.min,m=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n(267)("replace",2,function(t,e,n,d){return[function(r,a){var i=t(this),o=null==r?void 0:r[e];return void 0!==o?o.call(r,i,a):n.call(String(i),r,a)},function(t,e){var a=d(n,t,this,e);if(a.done)return a.value;var m=r(t),f=String(this),p="function"==typeof e;p||(e=String(e));var g=m.global;if(g){var v=m.unicode;m.lastIndex=0}for(var h=[];;){var x=u(m,f);if(null===x)break;if(h.push(x),!g)break;""===String(x[0])&&(m.lastIndex=c(f,i(m.lastIndex),v))}for(var y,_="",j=0,k=0;k<h.length;k++){x=h[k];for(var O=String(x[0]),$=l(s(o(x.index),f.length),0),w=[],E=1;E<x.length;E++)w.push(void 0===(y=x[E])?y:String(y));var T=x.groups;if(p){var S=[O].concat(w,$,f);void 0!==T&&S.push(T);var C=String(e.apply(void 0,S))}else C=b(O,f,$,w,T,e);$>=j&&(_+=f.slice(j,$)+C,j=$+O.length)}return _+f.slice(j)}];function b(t,e,r,i,o,c){var u=r+t.length,l=i.length,s=p;return void 0!==o&&(o=a(o),s=f),n.call(c,s,function(n,a){var c;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(u);case"<":c=o[a.slice(1,-1)];break;default:var s=+a;if(0===s)return n;if(s>l){var f=m(s/10);return 0===f?n:f<=l?void 0===i[f-1]?a.charAt(1):i[f-1]+a.charAt(1):n}c=i[s-1]}return void 0===c?"":c})}})},574:function(t,e,n){"use strict";n.r(e);n(10),n(7),n(33),n(309),n(38),n(11);var r=n(78),a=n(32),i=n(159);function o(t,e,n,r,a,i,o){try{var c=t[i](o),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,a)}function c(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var i=t.apply(e,n);function c(t){o(i,r,a,c,u,"next",t)}function u(t){o(i,r,a,c,u,"throw",t)}c(void 0)})}}var u={components:{TinymceEditor:r.a},data:function(){return{tags:[],form:{title:"",time_limit:1,memory_limit:128,description:"",input:"",output:"",sample_input:"",sample_output:"",hint:"",spj:0,level:1,tags:[]},rules:{title:[{required:!0,message:"请输入问题名称",trigger:"blur"},{max:20,message:"超出长度限制",trigger:"blur"}],time_limit:[{required:!0,message:"请输入时间限制",trigger:"blur"},{type:"integer",min:1,message:"清输入大于零的整数",trigger:"blur"}],memory_limit:[{required:!0,message:"请输入时间限制",trigger:"blur"},{type:"integer",min:1,message:"清输入大于零的整数",trigger:"blur"}]}}},mounted:function(){var t=c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.init();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{init:function(){var t=c(regeneratorRuntime.mark(function t(){var e,n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this,t.next=3,Object(i.d)();case 3:if(n=t.sent,e.tags=n.data.tags,"adminEditProblem"!=e.$route.name){t.next=22;break}return t.prev=6,r=e.$route.params.id,t.next=10,Object(a.g)(r);case 10:o=t.sent,Object.assign(e.form,o.data.problem),e.form.tags=[],o.data.problem.tags.forEach(function(t,n,r){e.form.tags.push(t.id)}),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(6),e.$router.replace({name:"admin404Page"});case 20:t.next=23;break;case 22:Object.assign(e.form,{title:"",time_limit:1,memory_limit:128,description:"",input:"",output:"",sample_input:"",sample_output:"",hint:"",spj:0,tags:[]});case 23:case"end":return t.stop()}},t,this,[[6,16]])}));return function(){return t.apply(this,arguments)}}(),submit:function(){var t=c(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(e=this).$refs.form.validate(function(){var t=c(regeneratorRuntime.mark(function t(n){var r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=22;break}if(t.prev=1,"adminAddproblem"!=e.$route.name){t.next=9;break}return t.next=6,Object(a.b)(e.form);case 6:r=t.sent,t.next=13;break;case 9:return i=e.$route.params.id,t.next=12,Object(a.e)(i,e.form);case 12:r=t.sent;case 13:e.$message({message:r.data.message,type:"success"}),e.$router.push({name:"adminProblemList"}),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(1),e.$message({message:t.t0.response.data.message,type:"error"});case 20:t.next=24;break;case 22:return e.$message({message:"表单必填项不能为空",type:"error"}),t.abrupt("return",!1);case 24:case"end":return t.stop()}},t,null,[[1,17]])}));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},watch:{$route:function(t,e){"adminAddproblem"!=t.name&&"adminEditProblem"!=t.name||this.init()}}},l=n(2),s=Object(l.a)(u,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"admin-content"},[n("div",{staticClass:"content__breadcrumb"},[n("el-breadcrumb",{attrs:{separator:"/"}},[n("el-breadcrumb-item",{attrs:{to:{name:"adminIndex"}}},[t._v("首页")]),n("el-breadcrumb-item",[t._v(t._s(t.$route.meta.title))])],1)],1),n("div",{staticClass:"content__main"},[n("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"6em"}},[n("el-form-item",{attrs:{label:"标题",prop:"title"}},[n("el-input",{attrs:{placeholder:"请输入标题",autofocus:!0},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),n("el-form-item",{attrs:{label:"时间限制",prop:"time_limit"}},[n("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.form.time_limit,callback:function(e){t.$set(t.form,"time_limit",t._n(e))},expression:"form.time_limit"}},[n("template",{slot:"append"},[t._v("秒")])],2)],1),n("el-form-item",{attrs:{label:"内存限制",prop:"memory_limit"}},[n("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.form.memory_limit,callback:function(e){t.$set(t.form,"memory_limit",t._n(e))},expression:"form.memory_limit"}},[n("template",{slot:"append"},[t._v("兆字节")])],2)],1),n("el-form-item",{attrs:{label:"题目描述"}},[n("tinymce-editor",{attrs:{height:300},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),n("el-form-item",{attrs:{label:"输入"}},[n("tinymce-editor",{attrs:{height:300},model:{value:t.form.input,callback:function(e){t.$set(t.form,"input",e)},expression:"form.input"}})],1),n("el-form-item",{attrs:{label:"输出"}},[n("tinymce-editor",{attrs:{height:300},model:{value:t.form.output,callback:function(e){t.$set(t.form,"output",e)},expression:"form.output"}})],1),n("el-form-item",{attrs:{label:"样例输入"}},[n("el-input",{attrs:{type:"textarea",rows:10,resize:"none"},model:{value:t.form.sample_input,callback:function(e){t.$set(t.form,"sample_input",e)},expression:"form.sample_input"}})],1),n("el-form-item",{attrs:{label:"样例输出"}},[n("el-input",{attrs:{type:"textarea",rows:10,resize:"none"},model:{value:t.form.sample_output,callback:function(e){t.$set(t.form,"sample_output",e)},expression:"form.sample_output"}})],1),n("el-form-item",{attrs:{label:"提示"}},[n("tinymce-editor",{attrs:{height:300},model:{value:t.form.hint,callback:function(e){t.$set(t.form,"hint",e)},expression:"form.hint"}})],1),n("el-form-item",{attrs:{label:"难度"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{"default-first-option":"",placeholder:"请选择题目难度"},model:{value:t.form.level,callback:function(e){t.$set(t.form,"level",e)},expression:"form.level"}},[n("el-option",{attrs:{label:"简单",value:0}}),n("el-option",{attrs:{label:"中等",value:1}}),n("el-option",{attrs:{label:"困难",value:2}})],1)],1),n("el-form-item",{attrs:{label:"标签"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"请选择题目标签"},model:{value:t.form.tags,callback:function(e){t.$set(t.form,"tags",e)},expression:"form.tags"}},t._l(t.tags,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),n("el-form-item",{staticClass:"fl"},[n("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("提交")])],1)],1)],1)])},[],!1,null,"12ff4beb",null);e.default=s.exports},578:function(t,e,n){"use strict";var r=n(168),a=n(579),i=n(268),o=n(164),c=n(273),u=Object.assign;t.exports=!u||n(44)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=o(t),u=arguments.length,l=1,s=a.f,m=i.f;u>l;)for(var f,p=c(arguments[l++]),d=s?r(p).concat(s(p)):r(p),b=d.length,g=0;b>g;)m.call(p,f=d[g++])&&(n[f]=p[f]);return n}:u},579:function(t,e){e.f=Object.getOwnPropertySymbols},78:function(t,e,n){"use strict";n(85);var r=n(176),a=n.n(r),i=n(177),o=(n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(50)),c=n(66),u=n.n(c),l={name:"tinymce-editor",components:{Editor:i.a},props:{value:{type:String,default:""},disabled:{type:Boolean,default:!1},plugins:{type:[String,Array],default:"lists image table wordcount code"},toolbar:{type:[String,Array],default:"undo redo |  formatselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | code image  table | removeformat"},height:{type:Number,default:600}},data:function(){return{init:{relative_urls:!0,document_base_url:o.c,language_url:"/static/tinymce/langs/zh_CN.js",skin_url:"/static/tinymce/skins/ui/oxide",content_css:"/static/tinymce/skins/ui/oxide/content.min.css",language:"zh_CN",height:this.height,resize:!1,plugins:this.plugins,toolbar:this.toolbar,branding:!1,menubar:!1,automatic_uploads:!1,mobile:{theme:"silver"},images_upload_handler:function(t,e,n){var r;(r=new FormData).append("file",t.blob(),t.filename());u.a.post("/api/admin/image",r,{headers:{"Content-Type":"multipart/form-data",Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NjAzNjg1NDQsInVzZXIiOiJhZG1pbiJ9.7K5BCDoodn10AH4Gwe_yDUDBSLWXnG-ogVFoGycQ7WU"}}).then(function(t){e(t.data.url)}).catch(function(t){})}},myValue:this.value}},mounted:function(){},methods:{onClick:function(t){this.$emit("onClick",t,a.a)},clear:function(){this.myValue=""}},watch:{value:function(t){this.myValue=t},myValue:function(t){this.$emit("input",t)}}},s=n(2),m=Object(s.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tinymce-editor",style:{height:t.height+"px"}},[n("editor",{attrs:{init:t.init,disabled:t.disabled},on:{onClick:t.onClick},model:{value:t.myValue,callback:function(e){t.myValue=e},expression:"myValue"}})],1)},[],!1,null,"3ee0a8eb",null);e.a=m.exports}}]);